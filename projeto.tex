% !TeX encoding = UTF-8
% !TeX spellcheck = pt_BR
\documentclass[12pt,a4paper,final]{article}
\usepackage[utf8]{inputenc}
\usepackage[brazil]{babel}
\usepackage{lmodern}
\usepackage[pdftex,dvipsnames,table,xcdraw]{xcolor}

% Links nas referência cruzada no documento.
% Ajuda a navegação (principalmente no índice).
\usepackage[unicode]{hyperref}
\hypersetup{
    hidelinks,   % Comente aqui para exibir os links
    %colorlinks, % Descomente esse se comentar o de cima
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

% Melhorias na justificação do texto e
% pequenos ajustes em fontes e alinhamentos. 
\usepackage[T1]{fontenc}
\usepackage{microtype}

% Para fórmulas matemáticas
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}

% Para setas usadas em fórmulas dos grafos
\usepackage{MnSymbol}

% Permite o alinhamento horizontal de várias
% equações, assim elas não tomam muito espaço
% quando são muito pequenas.
\usepackage{tabularx}

% Símbolos diferentes para o texto, como setas →,
% símbolos de copyright e trademark, euro, etc.
% Não é muito útil, mas de vez em quando ajuda.
% Ao invés do comando do latex, dá pra usar o
% caractere em UTF-8 diretamente.
\usepackage{textcomp}

% Pequenos símbolos que são úteis (às vezes)
% como checkmark.
\usepackage{bbding}

% For command patching
\usepackage{etoolbox}

% Permite criar formatações específicas, controla
% numerações e produz índices para teoremas e hipóteses.
\usepackage{amsthm}
\usepackage{thmtools}

\declaretheoremstyle[spaceabove=1.5ex,
                     spacebelow=0ex,
                     headindent=\parindent,
                     headformat=\MakeUppercase{\NAME} \NUMBER:\MakeUppercase{\NOTE},
                     notebraces={}{},
                     headpunct=:,
                     bodyfont=\itshape,
                     name=Hipótese]
                     {hypostyle}
\declaretheorem[style=hypostyle]{hypothesis}

% Notações matemáticas usadas com frequência no texto.
% Isso possui três vantagens:
% 1 - Dá menos trabalho digitar as fórmulas
% 2 - Dá mais consistência à notação no trabalho
% 3 - Se mudar de ideia qto à notação, é só trocar aqui
%     e o trabalho todo fica certo.
% Notação matemática
\newcommand{\R}{\mathbb{R}} % Reais
\renewcommand\vec{\mathbf} % vetor como negrito
\newcommand{\avg}[1]{\left\langle #1 \right\rangle} % ... média
\newcommand{\defn}{\coloneqq} % Usamos "=", ":=" ou "\equiv?"
\newcommand{\noloop}[1]{#1^\nlcirclearrowleft} % ... sem loops
% Redes direcionadas
\newcommand{\linkin}[1]{#1^\leftarrow} % ... entrada
\newcommand{\linkout}[1]{#1^\rightarrow} % ... saída
\newcommand{\linkboth}[1]{#1^\leftrightarrow} % ... direcionada
% Redes ponderadas e direcionadas
\newcommand{\win}{w^\leftarrow} % peso e direção de entrada
\newcommand{\wout}{w^\rightarrow} % peso e direção de saída
\newcommand{\weighted}[1]{#1^w} % ... com pesos
\newcommand{\weighteddir}[1]{#1^{w\rightarrow}} % ... com peso e direção
% Reciprocidade
\newcommand{\recin}[1]{#1^\leftlsquigarrow} % ... entrada não-recíproca
\newcommand{\recout}[1]{#1^\leadsto} % ... saída não-recíproca
\newcommand{\recboth}[1]{#1^\leftrightsquigarrow} % ... recíproca
% Capacidades
\newcommand{\capac}{\textit{cap}}

% Para listagens de programação ou 
% textos onde a formatação importa
\usepackage{listings}
\lstset{
	inputencoding=utf8,
    extendedchars=true,
	framextopmargin=2pt,
    framexbottommargin=2pt,    
    literate={á}{{\'a}}1
             {ã}{{\~a}}1
             {é}{{\'e}}1
             {í}{{\'i}}1
             {ç}{{\c{c}}}1
             {Ç}{{\c{C}}}1,
}
\renewcommand{\lstlistingname}{Listagem}% Listing -> Listagem
\renewcommand{\lstlistlistingname}{Lista de \lstlistingname s}% List of Listings -> Lista de Listagens

% Permite colocar figuras lado a lado ou
% fazer posicionamentos arbitrários
\usepackage[lofdepth,lotdepth]{subfig}

% Permite o uso da opção "frame" em "includegraphics"
% para fazer uma borda na imagem
\usepackage[export]{adjustbox}

% Para inserir gráficos e imagens
\usepackage{graphicx}
% Diretório padrão para figuras
\graphicspath{ {images/} }

\usepackage{abnt-alf}
\usepackage[top=3cm,bottom=2cm,left=3cm,right=2cm]{geometry}
\usepackage{indentfirst}
\usepackage{csquotes}

% Adiciona o comando \source para citar fontes abaixo
% de figuras. Muito útil!
\usepackage{caption}
\newcommand{\source}[1]{\vspace{-10pt} \caption*{Fonte: {#1}} }

% Facilita o copy 'n paste no PDF
% Remove ligaturas na cópia
%\input{glyphtounicode}
%\pdfgentounicode=1

% Usado para comentar grandes porções do texto
% com \begin{comment} \end{comment}
\usepackage{comment}

% Texto colorido e afins. Bom para TODO notes
\usepackage{xargs}
\usepackage[normalem]{ulem}
\useunder{\uline}{\ul}{}

% Todo notes.
% Muito útil para deixar anotações enquanto se está
% construindo o texto, depois dá para remover e onde
% quebrar são comentário que devem ser removidos.
% Para remover os comentários do PDF final, basta
% colocar 'disable' na lista de argumentos do pacote:
% \usepackage[disable]{todonotes}
\usepackage[obeyFinal,colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\question}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}

\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}

\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}

\newcommandx{\draft}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}

\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}
\reversemarginpar
% END Todo notes.

\begin{document}

% CAPA
\pagestyle{empty}
\begin{center}
\large  \textbf{UNIVERSIDADE PRESBITERIANA MACKENZIE}
\large  \textbf{PROGRAMA DE PÓS-GRADUAÇÃO EM}\\
\large  \textbf{ENGENHARIA ELÉTRICA E COMPUTAÇÃO}\\
\vskip 2.0cm
\textbf{\large Ronie Miguel Uliana}\\
\vskip 3.4cm
\setlength{\baselineskip}{1.5\baselineskip}
\textbf{\MakeUppercase{\large Um Estudo do Mapa de Carreiras da Empresa Vagas.com Usando Ciência de Redes}}\\
\vskip 4.0cm
\end{center}
\hfill{\vbox{\hsize=8.5cm\noindent\strut
Documento de Qualificação apresentado ao \break
Programa de Pós-Graduação em Engenharia \break
Elétrica e Computação da Universidade \break
Presbiteriana Mackenzie como parte dos \break
requisitos para a obtenção do título de \break
mestre em Engenharia Elétrica e Computação.}\\
\strut}
\vskip 3.0cm
\textbf{\normalsize Orientador: Prof. Dr. Leandro Nunes de Castro}\\
\vskip 2.0cm
\begin{center}
São Paulo\\
2017\\
\end{center}

% RESUMO
\newpage
\thispagestyle{plain}
\pagenumbering{roman}
\begin{center}
\large
\textbf{RESUMO}
\end{center}
\renewcommand{\baselinestretch}{0.6666666}
A carreira profissional corresponde à jornada de um indivíduo pelo trabalho, sendo impactada diretamente pela cultura, formação e interesses pessoais. As movimentações de carreira representam passagens entre diferentes trabalhos (por exemplo, empresas ou cargos) e invariavelmente geram expectativas e angústias nos profissionais. A Vagas.com é uma das principais empresas de recrutamento on-line do Brasil, possuindo o histórico de movimentação de carreira de mais de 10 milhões de brasileiros em mais de 8 mil cargos diferentes. A Vagas.com criou um serviço gratuito, denominado Mapa de Carreiras (MCar), que exibe as principais trajetórias profissionais do mercado obtidas a partir de dados informados nos currículos cadastrados na Vagas.com. Esse projeto de pesquisa utiliza uma área do conhecimento que vem se desenvolvendo muito ao longo das duas últimas décadas, denominada Ciência de Redes, para realizar um estudo analítico sobre o MCar. O MCar é uma rede complexa direcionada e ponderada, na qual os nós representam as ocupações profissionais e os arcos indicam a quantidade de profissionais que percorreram o caminho entre cada par de ocupações. Nesse contexto essa dissertação propõe contribuições em duas frentes: 1) proposição de adaptações e derivações de modelos de redes aleatórias existentes para que comportem as características do MCar; e 2) estudos analíticos que permitam compreender ou inferir movimentações profissionais a partir dos dados reais do Mapa de Carreiras.

%%\\[0.5cm]
\begin{flushleft}
{\bf Palavras-chave:} \it{redes, grafos, carreira, ocupações}
\end{flushleft}

% SUMÁRIO
\newpage
\thispagestyle{empty}
\tableofcontents

% DESENVOLVIMENTO
\newpage
\pagestyle{plain}
\pagenumbering{arabic}
\renewcommand{\baselinestretch}{1.5}
\normalsize

\listoftodos[Notas]

%====================================
\section{INTRODUÇÃO}
%====================================

Ao longo da vida profissional é comum para o indivíduo passar por diversas movimentações na carreira. Um estudante de engenharia pode iniciar como Trainee em uma empresa e progredir para Engenheiro, Supervisor de Obras e Diretor de Engenharia. Na área de computação é possível ver um Programador se tornar Analista-Programador, Coordenador de Desenvolvimento, Gerente de Projetos, chegando a Diretor de Operações. Esses são casos em que a movimentação de carreira segue um padrão mais tradicional de progressão, mas também há situações extremas de transições de carreira na qual um Analista-Programador resolve se tornar um Chef de Cozinha. Em qualquer um dos casos, as movimentações de carreira são sempre uma etapa de grande relevância profissional e que, ao mesmo tempo, podem causar estresse, insegurança e alguns desconfortos pelos novos desafios que surgirão.

Este projeto de pesquisa usa uma base de dados de mercado com 10 milhões de currículos e 23 milhões de experiências profissionais da empresa Vagas Tecnologia com o objetivo de fazer um estudo analítico sobre a movimentação de profissionais entre ocupações durante o curso de suas carreiras. O problema é modelado com uma estrutura em grafos e é analisado com conceitos e técnicas de Ciência de Redes.

Para concluir o objetivo, propõe-se levantar hipóteses sobre os o comportamento da movimentação de profissionais traduzindo estruturas observadas na rede para o domínio da dinâmica de carreira.

Propõe-se, então, validar as hipóteses encontradas. Isso é feito comparando-se a estrutura da rede com modelos nulos, ou seja, com redes de estrutura similar, porém geradas aleatoriamente.

Como esse trabalho é baseado somente nos dados de currículos não é possível responder o que motiva os profissionais nos comportamentos observados, mas é possível afirmar que ele ocorre. Nesse ponto, futuros trabalhos podem se apoiar nos resultados aqui obtidos para expandir a compreensão desses comportamentos.

Existem diversas pesquisas sobre movimentação profissional, principalmente sobre os fatores que motivam a mudança, como os expostos por~\citeonline{Ng2007-zp}. Porém, nenhum trabalho pôde ser encontrado analisando redes profissionais sob a ótica da Ciência de Redes, ponto onde esse trabalho tem sua principal contribuição.

A movimentação de profissionais é um ponto de interesse para pessoas, empresas e governo. Pessoas desejam saber onde podem chegar, empresas se interessam pela contratação e evolução de seus colaboradores e o setor público traça planos para suprir mão de obra onde ela é insuficiente ou criar oportunidades de trabalho onde ela é abundante. A pesquisa presente traz uma maior compreensão sobre como essa movimentação ocorre.

Como esse trabalho é baseado em uma rede com conexões que possuem peso e direção, outra contribuição relevante está na proposta de adaptações e derivações de modelos de redes aleatórias existentes para que comportem essas características.

%% PARA MIM O OBJETIVO GERAL E OS ESPECÍFICOS ESTÃO ADEQUADOS
% Ronie (2017-06-17) Removi o texto provisório e deixei só a redação principal.

\begin{comment}
\subsection{Considerações sobre Carreira}

A definir\ldots
\end{comment}


%====================================
\section{CIÊNCIA DE REDES}
%====================================

A Ciência de Redes (\textit{Network Science}) é uma área de estudo recente. Apesar do estudo matemático de grafos remontar ao século 18, com Leonhard Euler, o estudo de redes tem-se intensificado, culminando em um surto de interesse no começo do século 21 com os trabalhos de Watts-Strogatz e Barabási-Albert~\cite{Watts1998-wt,Barabasi1999-sn}.

Um marco para a consolidação da disciplina ocorreu em 2005 com o aval de órgãos governamentais quanto a sua utilidade como ciência. Nesse ano, o exército Norte-Americano solicitou ao \textit{United States National Research Council} um estudo sobre a aplicabilidade da emergente \enquote{Ciência de Redes}. O relatório destaca a relevância do campo em diversas áreas e levanta seus desafios. Nos anos seguintes foram fundados centros de estudos de Ciência de Redes nas universidades norte-americanas com investimentos dos laboratórios de pesquisa do exército~\cite{Maxwell2009-kq}.

O \citeonline{National_Research_Council2006-lv} define a Ciência de Redes como \enquote{o estudo da representação em rede de fenômenos físicos, biológicos e sociais levando a modelos preditivos desses fenômenos}~\footnote{Em tradução livre, \enquote{the study of network representations of physical, biological, and social phenomena leading to predictive models of these phenomena.}}.

Segundo \citeonline{Barabasi2016-rn}, como disciplina, a Ciência de Redes se diferencia de uma abordagem tradicional pelos seguintes pontos:

\begin{description}
	\item[\textit{Interdisciplinar}.] A Ciência de Redes é terreno comum para diversas disciplinas, como Biologia (com redes de proteínas), Sociologia (com redes sociais), Computação (com redes de comunicações e algoritmos), entre outras. Apesar de divergirem em essência e propósito, as redes que são seu objeto de estudo compartilham características e propriedades.
    
    \item[\textit{Empírica}.] A Ciência de Redes foca em dados reais e no propósito de uso das redes. Modelos teóricos são confrontados com dados reais para avaliação de sua utilidade na descoberta de propriedades relevantes das redes.
    
    \item[\textit{Matemática e Quantitativa}.] A Ciência de Redes baseia-se fortemente na Teoria de Grafos, na Estatística e em Algoritmos para criação de modelos e sua avaliação. A descoberta de princípios gerais de organização das redes só é possível com uma sólida base formal Matemática.
    
    \item[\textit{Computacional}.] Redes reais por vezes são de grande tamanho, com milhares ou milhões de nós, como a Internet ou as relações entre trabalho e pessoas. As características de algumas topologias, como a distribuição dos graus dos nós, somente são distinguíveis quando o número de nós e conexões é bastante grande. Adicionalmente, as análises comparativas com modelos nulos pressupõe a geração de grandes quantidades de redes aleatórias de composição similar às redes em estudo, um trabalho que não é possível sem o uso intensivo de computadores. Algoritmos e técnicas de processamentos de grandes volumes de dados são ferramentas essenciais para esses estudos.
\end{description}

%====================================
\subsection{Conceitos de Redes}

É preciso descrever os conceitos utilizados em redes para compreensão desse trabalho. Apesar de serem básicos em Teoria de Grafos, uma breve descrição é oferecida nas seções seguintes para completude dessa obra.

Um \textit{grafo} ou \textit{rede} é uma abstração usada quando o foco do estudo está no relacionamentos entre entidades. Nessa abstração, outras características das entidades que não o relacionamento são descartadas.

Redes são representadas graficamente por formas geométricas, em geral pequenos círculos para representar as entidades, conectados por linhas representando os relacionamentos (Figura~\ref{fig:exemplo-tipos-grafo}).

\begin{figure}[ht]
    \centering
    \subfloat[][simples] {
        \includegraphics[scale=0.5]{simple.pdf}
        \label{fig:exemplo-grafo-simples}
    }
    \subfloat[][direcionado] {
        \includegraphics[scale=0.5]{directed.pdf}
        \label{fig:exemplo-grafo-direcionado}
    }    
    \subfloat[][ponderado] {
        \includegraphics[scale=0.44]{weighted.pdf}
        \label{fig:exemplo-grafo-ponderado}
    }    
    \caption{Redes ou Grafos}
    \label{fig:exemplo-tipos-grafo}
    \source{Elaboração do autor}
\end{figure}

Quando os relacionamentos possuem uma certa direção eles formam \textit{redes direcionadas} (Figura~\ref{fig:exemplo-grafo-direcionado}). Por exemplo, uma rede que representa as trocas de presentes natalinos é uma rede em que há \textit{direção}, o presente é dado de uma pessoa \textit{para} outra. Em outros casos, quando não há uma direção no relacionamento, a rede é chamada \textit{não-direcionada}. Por exemplo, em uma rede de relacionamentos os indivíduos se conhecem mutuamente. 

Se a intensidade do relacionamento é relevante as conexões ganham um \textit{peso} (Figura~\ref{fig:exemplo-grafo-ponderado}). Seu significado depende da rede em questão. Por exemplo, em uma rede de transportes o peso pode significar a distância entre locais de entrega, em uma rede de dados pode significar o volume do tráfego entre os pontos, e em uma rede social pode significar o número de mensagens trocadas entre duas pessoas. Redes onde existe a presença de conexões com peso são chamadas \textit{redes ponderadas}.

Algumas redes permitem múltiplas conexões entre dois nós (Figura~\ref{fig:exemplo-grafo-multiplo}). Por exemplo, em uma rede de ligações telefônicas é possível representar cada ligação por uma conexão diferente, duas pessoas que troquem ligações seriam representadas por dois nós com diversas conexões entre si, uma para cada ligação feita. Redes que permitem múltiplas conexões são chamadas \textit{multigrafos}. \citeonline{Newman2004-by} propõe que algumas redes ponderadas podem ser representadas como multigrafos, principalmente onde a conexão representa um fluxo. Nessa representação alternativa cada unidade de peso é representada por uma conexão independente de peso um, isso possibilita o emprego de técnicas que desconsideram o peso das conexões em alguns cenários.

\begin{figure}[ht]
    \centering
    \subfloat[][laços e direção] {
        \includegraphics[scale=0.5]{loop.pdf}
        \label{fig:exemplo-grafo-laco}
    }
    \subfloat[][múltiplas conexões] {
        \includegraphics[scale=0.5]{multiple.pdf}
        \label{fig:exemplo-grafo-multiplo}
    }    
    \caption{Redes com laços e conexões múltiplas}
    \source{Elaboração do autor}
\end{figure}

Em algumas redes, não há sentido em nós que conectam a si mesmos, por exemplo, em uma rede social onde as conexões representam quem conhece quem, uma conexão de alguém consigo mesmo não é relevante para o estudo da rede (desconsiderando-se questões filosóficas). Já em outras redes, é natural considerar esse tipo de conexão\todo{Encontrar um exemplo}. Conexões de um nó com ele mesmo são chamados \textit{laços} ou \textit{loops} (Figura~\ref{fig:exemplo-grafo-laco}).

Redes que não permitem laços, pesos ou múltiplas conexões entre dois nós são chamadas \textit{redes simples} (Figura~\ref{fig:exemplo-grafo-simples}). Nessa pesquisa, a rede em questão é direcionada, ponderada e sem laços.

Quando uma rede simples possui todas as conexões possíveis entre seus nós ela é chamada \textit{rede completa}. O número de conexões $L$ nessa rede é dado pela Equação~\ref{eq:rede-completa}, onde $N$ é o número de nós da rede. A Equação~\ref{eq:rede-completa-direcionada} fornece o número de conexões $\linkboth{L}$ em uma rede direcionada.

\noindent
\begin{tabularx}{\linewidth}{@{}XX@{}}
    \begin{equation} \label{eq:rede-completa}
    L = \frac{N(N - 1)}{2}
    \end{equation} &
    \begin{equation} \label{eq:rede-completa-direcionada}
    \linkboth{L} = N(N - 1)
    \end{equation}
\end{tabularx}

É possível perceber que o número de conexões possíveis cresce exponencialmente com a quantidade de nós.

Se uma parte da rede forma um grafo completo, esse grafo é chamado \textit{clique}. O clique é um conceito importante quando se trata de detecção de comunidades.

Uma \textit{rede reticulada} ou simplesmente \textit{reticulado} (\textit{lattice}) é uma rede onde os nós estão colocados em um plano (n-dimensional, mas é comum planos bidimensionais) e são conectados entre si, formando um padrão regular. Os reticulados são usados como modelos simples em diversas áreas de pesquisa, por exemplo, uma cidade pode ser representada grosseiramente como um reticulado bidimensional e a porosidade de materiais pode ser estudada com reticulados tridimensionais (percolação).

\begin{figure}[ht]
    \centering
    \subfloat[][bidimensionais] {
        \includegraphics[scale=0.4]{lattice.jpg}
    }
    \subfloat[][circular ou anel] {
        \includegraphics[scale=0.6]{ring-lattice.png}
    }    
    \caption{Exemplos de redes reticuladas}
\end{figure}

%% DE TEMPOS EM TEMPOS COLOQUE UMA FIGURA ILUSTRANDO OS CONCEITOS APRESENTADOS. NUMA ÚNICA FIGURA VOCÊ PODE ILUSTRAR A REDE PONDERADA, CLIQUES, ETC.
% Ronie (2017-06-17) Boa! Vou procurar algumas figuras open-source que eu possa utilizar provisoriamente, depois substituo por figura minhas, que acha?

%% PARA A QUALIFICAÇÃO ESTÁ OK SIM

Outro conceito relacionado é chamado \textit{componente}. Se existirem nós em uma rede que estão conectados entre si, mas não se conectam a nenhum outro nó da rede, então essa rede \enquote{isolada} é um componente. Um nó sem conexões pode ser considerado um componente de tamanho 1. Uma rede em que todos os nós se conectam de maneira direta ou indireta é chamada de \textit{rede conectada} e possui apenas um componente. Um componente é um subgrafo em que todos os seus nós possuem conexão direta ou indireta entre si, porém nenhum de seus nós se conecta ao resto da rede. Uma exemplo de rede com três componentes pode ser observado na Figura~\ref{fig:exemplo-componente}.

%% ENTÃO UM COMPONENTE É O MESMO QUE UM SUBGRAFO?
% Ronie (2017-06-17) É um subgrafo desconectado do supergrafo. Mexi no texto para tentar tornar mais claro, pode ver se melhorou? :) (definitivamente aqui vai bem uma figura =/)
% CADA NOVO CONCEITO PRECISA SER EXPLICADO. SE VOCÊ FALA DE SUPERGRAFO, ENTÃO EXPLIQUE O QUE É UM.
% Ronie (2017-06-18) Vou tentar alterar a explicação para excluir o termo. Esse é o tipo da coisa que puxa a outra :D

\begin{figure}[ht]
    \centering
    \includegraphics[scale=0.7]{componente.png}
    \caption{Rede com três componentes}
    \source{Wikimedia - David Eppstein}
    \label{fig:exemplo-componente}
\end{figure}

Em algumas topologias de rede surgem nós com um número de conexões muito acima do esperado, chamados \textit{hubs}. O número de conexões de um nó é chamado de \textit{grau} do nó, portanto, \textit{hubs} são nós de alto grau. Esse é um conceito central no estudo de redes complexas.

Medidas de centralidade de grau são, por exemplo, a média ou mediana dos graus da rede. Entretanto, algumas topologias possuem um dispersão muito grande de graus, ou seja, o desvio padrão ou distância interquartil varia consideravelmente. Nesses casos, é útil calcular-se a \textit{distribuição de grau} utilizando histogramas ou calculando-se a probabilidade da presença de graus na rede. Esses conceitos são detalhados na Seção~\ref{sec:distribuicao-grau-forca}.

A \textit{sequência de grau} é o nome que se dá a sequência ordenada com $n$ posições, onde $n$ é o número de nós e cada posição possui o grau de um nó. A sequência é ordenada do menor para o maior grau. Sendo $\delta_i$ o grau do nó $i$, onde $G$ é uma rede com $n$ nós e $i \in G$, a sequência de grau pode ser definida como:

\begin{equation} \label{eq:sequencia-grau}
\textit{Seq}_G \defn \{\delta_i, \delta_{i+1}, \ldots, \delta_n\}, \delta_i \le \delta_{i+1}
\end{equation}

A sequência de grau é utilizada tanto no cálculo da \textit{distribuição de grau}, quanto em algoritmos que criam redes aleatórias em que a distribuição exata de graus é preservada.

Outro conceito importante no estudo de redes é o de menor caminho entre dois nós, explicado em mais detalhes na Seção~\ref{sec:distancia-geodesica}. O menor caminho é também chamado \textit{caminho geodésico} e a distância entre dois nós através do menor caminho é chamada \textit{distância geodésica}.

\todo[inline]{Incluir figura com caminho geodésico, caminho mais provável e caminho de menor gargalo}

Similar ao caminho geodésico duas outras variações para redes ponderadas são importantes nesse estudo. A primeira é o \textit{caminho mais provável}, ou seja, partindo-se de um nó e caminhando-se aleatoriamente pela rede, onde a probabilidade de se tomar um caminho é definida pelo peso da conexão, o caminho mais provável é formado pelas conexões percorridas até se encontrar um determinado nó. A segunda variação é o \textit{caminho de menor gargalo}, definida como o caminho entre dois nós que maximiza o menor peso em qualquer uma das conexões que o forma \cite{Goldbarg2012-uc}.

\todo[inline]{Explicar coeficiente de agrupamento (figuras ajudam)}

\textit{Assortatividade} significa que nós que compartilham características comuns tendem a se conectar com mais frequência. \textit{Dissortatividade} é o conceito contrário, onde nós com características diferentes tendem a se conectar mais frequentemente. Na Ciência de Redes é comum o termo ser associado a tendência de nós de mesmo grau se conectarem entre si. A assortatividade é detalhada na Seção~\ref{sec:assortatividade}.

%====================================
\subsection{Redes Aleatórias e Redes Reais} \label{sec:redes-aleatorias}

No estudo de redes reais, as redes aleatórias funcionam como \enquote{modelo nulo}, ou seja, se uma medida observada em uma rede real diverge significativamente de uma rede aleatória equivalente, algum princípio organizacional inexistente no modelo é responsável pela divergência~\cite{Zweig2016-rb}.

O modelo nulo funciona de forma análoga à hipótese nula em estatística e é uma das principais ferramentas do estudo de redes reais. É importante notar que essa abordagem predata a ciência de redes. Os trabalhos de \citeonline{Holland1970-dx} em redes sociais e de \citeonline{Connor1979-vw} em ecologia já a utilizaram esse método, mesmo quando, no caso do artigo de \textit{Connor}, não formula o problema explicitamente como uma rede.

De maneira mais precisa, essa abordagem pode ser declarada da seguinte forma: seja $G^\textit{rand}$ um \textit{modelo} de rede aleatória, $M \defn S \to \R$ uma medida global definida para todos os grafos de um conjunto $S$, e $G \in S$ uma rede sob análise. O valor esperado $E(M|G^\textit{rand})$ é comparado a $M(G)$ quanto a sua relevância estatística. Uma \enquote{medida global}, nesse caso, é uma medição sobre toda a rede como, por exemplo, a distância média dos menores caminhos entre todos os seus nós.

É possível comparar as medidas globais obtidas com seus valores esperados dividindo-se ou subtraindo-se o valor esperado do valor obtido~\cite{Zweig2016-rb}. Definindo $M^d$ como a proporção entre o valor obtido da medida na rede sendo estudada $M(G)$ e o valor esperado em uma rede aleatória equivalente $E(M|G^\textit{rand})$, a proporção $M^d \defn M(G) / E(M|G^\textit{rand})$ representa o quão divergente é a rede $G$ em relação ao esperado em uma rede aleatória, valores próximos a 1 significam que a $M^d$ não diverge do encontrado em uma rede gerada ao acaso. Valores acima e abaixo de 1 significam características acima do esperado ou suprimidas.

De maneira equivalente, pode-se definir $M^\Delta$ como a diferença absoluta entre o valor da medida na rede em estudo $M(G)$ e o valor esperado em uma rede aleatória equivalente $E(M|G^\textit{rand})$. Na diferença absoluta $M^\Delta \defn M(G) - E(M|G^\textit{rand})$, os números acima e abaixo de 0 contribuem para a rejeição do modelo nulo. O uso das duas medidas permite traçar correlações entre diversas redes em estudo.
%%NÃO ENTENDI ESSA ÚLTIMA FRASE. ESSA RELAÇÃO ENTRE TAMANHO E ERRO NÃO É CLARA 
%Ronie: Não consegui melhorar muito a frase, pensei melhor e acho que um exemplo deve ajudar a passar melhor a mensagem. Escrevi um abaixo, veja o que acha, pls :)
%% É PRECISO DEFINIR Md E MDelta ANTES DE APRESENTAR OS CONCEITOS. VOCÊ EXPLICA, MAS NÃO CONCEITUA.
% Ronie (2017-06-17) Não sei se entendi bem, tentei de novo, é mais ou menos por aí? 

Por exemplo, em uma rede em que $M(\cdot)$ é a \textit{média da distância geodésica} entre todos os nós, um hipotético $M^d = 1/2$ significaria que o caminho na rede sob estudo é metade do que se esperaria em uma rede aleatória de mesma topologia, ou seja, alguma característica não presente no modelo nulo causa essa diferença. No mesmo estudo hipotético, $M^\Delta = -2$ significa que a rede possui a média do caminho geodésico cerca de 2 unidades menores do que o esperado. Ao se aplicarem as mesmas medidas em outras redes reais, mas de tamanhos diferentes, $M^d$ permite verificar se a característica varia de acordo com o tamanho, já $M^\Delta$, nesse caso, é diretamente proporcional ao tamanho da rede e aumentará para redes maiores pela própria definição de medida. Entretanto, traçar a correlação de ambas em diversos estudos possibilita a inferência de novos modelos com propriedades que expliquem como as redes reais funcionam. Essa foi a abordagem de \cite{Barabasi1999-sn}, na descoberta das redes livres de escala, explicadas em detalhes na Seção~\ref{sec:scale-free}. 

Dependendo das medidas utilizadas, as equações acima sofrem variações para adequação ao uso, como, por exemplo, a \textit{reciprocidade}, proposta por~\citeonline{Garlaschelli2004-db}, explicada na Seção~\ref{sec:reciprocidade}.

Já as medidas locais, que possuem um valor para cada nó ou cada conexão, podem ser comparadas através de seus estimadores estatísticos, como a média ou mediana, efetivamente transformando-as em medidas globais. Outra forma de avaliação consiste em comparar a distribuição esperada nos modelos de redes aleatórias com a distribuição observada na rede em estudo. Além da comparação gráfica pode-se comparar a \textit{significância estatística} da distribuição esperada da medida.

\todo[inline]{Entrar com uma formalização aqui sobre a distribuição}

Essas abordagens foram usadas na descoberta de \textit{redes de mundo pequeno} por \citeonline{Watts1998-wt} e de \textit{redes livres de escala} por \citeonline{Barabasi1999-sn}.

No caso das redes de mundo pequeno, observou-se que as redes reais em estudo possuíam uma \textit{distância geodésica} média similar a das redes aleatórias, porém seu \textit{coeficiente de agrupamento} divergia significativamente, ou seja, a organização das redes em estudo não poderia ser explicada meramente por aleatoriedade, algum princípio organizacional deveria existir para que elas assumissem esse formato. \textit{Distância geodésica} é meramente um nome mais conveniente para a menor distância entre dois nós e \textit{coeficiente de agrupamento} é uma medida de quanto os vizinhos de um nó estão conectados entre si, formando grupos. \textit{Redes de mundo pequeno} são redes em que a distância geodésica entre dois nós quaisquer é muito curta, mesmo em uma rede imensa, na ordem de uma dezena de passos de distância em uma rede de bilhões de nós. As redes de mundo pequeno são detalhadas na Seção~\ref{sec:small-world}. 

De forma similar, as redes reais com a propriedade de serem livres de escala divergem das redes aleatórias no número de conexões em seus nós. Enquanto as redes aleatórias possuem uma quantidade de conexões por nó distribuída de maneira similar a uma curva normal, nas redes livres de escala essa distribuição é logarítmica, em que poucos nós acumulam uma grande quantidade de conexões, formando \enquote{hubs}, enquanto a maior parte dos nós possuem poucas conexões. Redes livres de escala são detalhadas na Seção~\ref{sec:scale-free}.

A comparação com modelos nulos é uma forma de \textit{análise exploratória de dados}~\cite{Zweig2016-rb}, em que a descoberta de uma divergência é na verdade a descoberta de uma questão. Nos casos exemplificados acima, as pesquisas levaram à seguinte questão: \enquote{Quais princípios ou restrições existem para que essas redes assumam tais características?}. No caso das redes livres de escala, \citeonline{Barabasi2016-rn} argumentam que os dois princípios  \textit{suficientes} e \textit{necessários} que levam a redes com essa topologia são o \enquote{crescimento} e a \enquote{conexão preferencial} (mais sobre ambos na Seção~\ref{sec:scale-free}), oferecendo respostas à questão levantada pela análise contra o modelo nulo.

A proposta de princípios organizacionais leva a novos modelos de redes aleatórias que incorporam esses princípios. Se esses modelos forem capazes de gerar redes com as características observadas nas redes reais que motivaram sua proposição, eles são plausíveis, ou seja, são \textit{suficientes} para explicá-las. No entanto, somente a análise matemática é capaz de dizer se os princípios são \textit{necessários}, ou seja, que não é possível o surgimento de uma rede com essa topologia sem os princípios propostos.

Esse processo levou à criação do modelo de rede aleatória de Watts-Strogatz~\cite{Watts1998-wt}, que possui restrições adicionais à criação de redes aleatórias que tornam o modelo capaz de gerar redes em que a distância média dos menores caminhos e o coeficiente de agrupamento são compatíveis aos observados em redes reais. Da mesma maneira, o modelo Barabási-Albert é capaz de gerar redes que obedecem à distribuição de grau similares às das redes reais em estudo~\cite{Barabasi1999-sn}.

Esses novos modelos servem como modelo nulo para futuros trabalhos. Se uma rede real possui medidas compatíveis com redes geradas pelo modelo Barabási-Albert, então é possível caracterizar essa rede como uma rede livre de escala. Medidas divergentes significam que o modelo não captura princípios suficientes para explicá-la, gerando novas questões a serem respondidas.

Para se chegar ao valor esperado de uma medida em um modelo nulo (ou seja, o valor de $E(M|G^\textit{rand})$) é possível gerar um conjunto de redes a partir do modelo, computar a medida de cada uma e chegar a um valor médio entre todas elas.

Em modelos nulos mais simples (ou mais profundamente estudados), é possível chegar ao valor esperado por equações matemáticas derivadas da análise combinatória.

Por exemplo, para obter a distância geodésica média esperada em uma rede de 1000 nós e 2000 conexões, é possível gerar algumas centenas de redes com essa configuração usando o modelo de Erdős-Rényi (detalhado na Seção~\ref{sec:modelo-erdos-renyi}), medir a distância de todas e tirar sua média. Esse é o valor esperado da distância geodésica para essa configuração de rede.

Entretanto, o modelo de Erdős-Rényi é um dos mais estudados na literatura e o valor esperado da medida acima pode ser obtido por $ln N / ln (2L / N)$, onde $N$ é o número de nós e $L$ é o número de conexões.

Em um experimento ilustrativo, foram geradas 100 redes de 1000 nós e 2000 conexões, a distância geodésica média obtida foi $\approx 5,01 \pm 0,02$, enquanto que a fórmula acima prevê $\approx 4,98$, ou seja, a distância esperada entre dois nós quaisquer de uma rede como essa é $5$.

Dessa forma, modelos nulos mais bem estudados fornecem os valores esperados sem que seja necessário recorrer a geração artificial das redes. Por outro lado, alguns modelos nulos criam redes com características desejadas, mas não possuem ainda os valores esperados como formulação matemática.
%% O FINAL DA FRASE ACIMA NÃO ESTÁ CONECTANDO BEM, FAVOR VERIFICAR E AJUSTAR
% Ronie (2017-06-17) Acabei expandindo e colocando um exemplo, veja se melhorou :)

A abordagem matemática, por exemplo, é usada por \citeonline{Barabasi1999-sn} que chegam a distribuição do número de conexões por grau esperada em uma rede livre de escala como sendo $p_k \thicksim k^{-\gamma}$ em que $2 \leq \gamma \leq 3$, onde $p_k$ é a probabilidade de se encontrar um nó com $k$ conexões e $\gamma$ é um parâmetro chamado \textit{expoente de grau}. Em \citeonline{Barabasi2016-rn} várias outras propriedades também são modeladas matematicamente, como por exemplo, o número esperado de conexões no nó mais conectado.

A obtenção do valor esperado através de amostragem, por outro lado, é usada pelos autores citados acima, mas pode ser mais claramente observada em \citeonline{Squartini2013-ni}, onde os modelos utilizados não possuem ainda uma solução matemática para o cálculo do valor esperado da medida (no caso, a reciprocidade).

Os modelos a serem escolhidos como modelos nulos para um estudo devem levar em consideração quais características eles preservam, pois a escolha inadequada dos modelos leva a conclusões errôneas. Sempre é possível substituir um modelo nulo por outro mais adequado, invalidando ou reforçando as conclusões prévias~\cite{Zweig2016-rb}.

A rede presente nesse trabalho possui claros requisitos quanto aos modelos de redes aleatórias aplicáveis ao seu estudo. Por ser uma rede ponderada e direcionada, modelos que desconsideram esses atributos perdem informação durante a comparação em busca de relevância estatística. Modelos de redes aleatórias onde ambos os atributos estão presentes são consideravelmente mais complexos e não tão abundantes, porém são mais adequados.

Redes possuem um vasto repertório de medições, quase todas emprestadas da Teoria de Grafos. Algumas medições estruturais, como a \textit{distribuição de grau}, são quase ubíquas e relevantes em grande parte dos estudos de redes, pois várias propriedades são derivadas dessa característica. Outras medidas, no entanto, fazem sentido apenas em determinados tipos de redes. Por exemplo, pode não haver sentido em medir a reciprocidade (Seção ~\ref{sec:reciprocidade}) em uma rede de transporte, mas é uma medida importante em uma rede social. Por outro lado, mesmo no estudo de redes sociais a reciprocidade pode ser irrelevante, como no caso do estudo de redes de mundo pequeno onde o foco está na distância média da rede.

Independentemente da comparação com modelos nulos, as medições também são usadas para comparação direta com outras redes ou para comparações dentro dela própria. Por exemplo, as medidas de similaridade podem revelar ocupações que possuem um conjunto de requisitos semelhantes para exercê-las, as medidas de reciprocidade e não-reciprocidade podem ser usadas para se estabelecer uma progressão em uma sequência de ocupações.

Para o trabalho presente, as medidas mais relevantes são apresentadas na Seção~\ref{sec:medidas-de-rede}, bem como suas variações para redes ponderadas e direcionadas.

%====================================
\subsection{Modelos de Redes Aleatórias}

Os modelos de redes aleatórias são usado como modelos nulos na verificação da relevância de propriedades na rede em estudo.

Aqui são apresentados diversos modelos de redes aleatórias. Dois deles são apresentados por serem frequentes como referência em trabalhos similares: Erdős-Rényi e Watts-Strogatz.

Quatro outros são apresentados por serem diretamente aplicáveis a esse trabalho: Modelo de Configuração, Modelo de Preservação de Força, Modelo de Parâmetro Oculto e Modelo de Xulvi-Brunet e Sokolov.

Finalmente, dois modelos são propostos nesse trabalho, adaptando-se modelos conhecidos a redes ponderadas e direcionadas:
\begin{itemize}
\item Modelo de Configuração Ponderada (\textit{Weighted Configuration Model} - WCM), derivado do Modelo de Configuração.
\item Modelo Aleatório de Preservação de Força (\textit{Strength-Preservation Randomization Model} - SPRM), derivado do Modelo Aleatório de Preservação de Grau.
\end{itemize}

\todo[inline]{Aqui eu fiz uma besteira sem tamanho. Propus dois modelos de rede aleatória para lidar com o peso das conexões, achando que seria uma mera questão de transformar o grafo (me deixei levar pelo artigo do \cite{Newman2004-by} que transforma grafos ponderados em multigrafos e pelo confuso artigo de \cite{Serrano2005-ms} em que ela faz a análise de um modelo aleatório para redes ponderadas, mas deixa o algoritmo implícito). Daí, durante a escrita (e analisando como a topologia ficaria) percebi que as propostas descaracterizam as conexões da rede (narf!). De qualquer maneira, deixei elas escritas, quem sabe deixando a ideia cozinhar um pouco não vem algo. O problema agora é que está BEM difícil achar um modelo nulo para rede ponderada e os modelos para redes simples não me parecem satisfatórios, pois uma das características mais fortes do MCar é justamente o fluxo de pessoas. Por conta disso, incluí mais um modelo, o de parâmetro oculto, talvez seja mais fácil adaptá-lo.}

%====================================
\subsubsection{Modelos de Erdős-Rényi e Gilbert} \label{sec:modelo-erdos-renyi}

O Modelo de Erdős-Rényi e o Modelo de Gilbert são bastante estudados e também os mais antigos, os artigos de Gilbert e Erdős-Rényi datam de 1959. Muitos dos valores esperados para suas medidas já estão disponíveis como modelos puramente matemáticos, ou seja, é possível calculá-los sem que seja necessário criar a rede de fato. Esses modelos criam redes simples com probabilidade de conexão aleatória entre nós.

O modelo de Erdős-Rényi, conhecido como $G(N,L)$, é criado a partir de um número fixo de nós $N$ e conexões $L$. Entretanto, o modelo mais usado é conhecido como $G(N,p)$ proposto por Gilbert, criado a partir de $N$ nós e com probabilidade fixa $p$ de conexão entre dois nós quaisquer. Os modelos são equivalentes em suas propriedades, porém o segundo simplifica o cálculo de algumas medidas \cite{Barabasi2016-rn}.

Ambos os modelos criam redes simples. O algoritmo para geração de redes $G(N, p)$ pode ser descrito da seguinte forma:

\begin{enumerate}
\item Inicie com $N$ nós isolados e a probabilidade $p$ de dois nós se conectarem.

\item Para cada par de nós $i$ e $j$, selecione aleatoriamente um número entre 0 e 1.

\item Se o número for menor ou igual a probabilidade $p$, crie uma conexão entre $i$ e $j$.
\end{enumerate}

O algoritmo para geração de uma rede $G(N, L)$, por sua vez,  pode ser descrito como:

\begin{enumerate}
\item Inicie com $N$ nós isolados.
\item Selecione aleatoriamente dois nós $i$ e $j$ sem conexão entre si e crie uma conexão entre eles.
\item Repita o Passo 2 até que existam $L$ conexões na rede.
\end{enumerate}

Uma das propriedades mais notáveis desse modelo é o surgimento de um grande componente conectando a maior parte dos nós, denominado \textit{componente gigante}, quando $p$ ultrapassa um valor crítico $p_c$ (Equação~\ref{eq:componente-gigante-1}). Essa é a probabilidade para que a média de graus $\avg{k}$ da rede seja 1 (Equação~\ref{eq:componente-gigante-2}). É intuitivo que o surgimento de um grande grupo conectado aconteça quando cada nó possua uma conexão, porém, não é tão intuitivo que essa condição seja \textit{suficiente} para isso.

\noindent
\begin{tabularx}{\linewidth}{@{}XX@{}}
    \begin{equation} \label{eq:componente-gigante-1}
        p_c = \frac{1}{N - 1} \approx \frac{1}{N}
    \end{equation} &
    \begin{equation} \label{eq:componente-gigante-2}
        \avg{k} = 1
    \end{equation}
\end{tabularx}

Os modelos apresentados acima podem ser generalizados para uma rede direcionada de maneira bastante trivial, bastando diferenciar as conexões $(i, j)$ de $(j, i)$. Já para redes ponderadas, foi encontrado apenas um artigo de \citeonline{Garlaschelli2004-db} propondo uma alternativa.

%====================================
\subsubsection{Modelo de Watts-Strogatz}

O modelo de Watts-Strogatz cria uma rede aleatória com a propriedade de mundo pequeno e com um alto coeficiente de agrupamento. Uma rede de mundo pequeno (Seção~\ref{sec:small-world}) é aquela em que a menor distância entre dois nós selecionados aleatoriamente é muito pequena em relação ao tamanho da rede. Um alto coeficiente de agrupamento (Seção~\ref{sec:coeficiente-agrupamento}) significa que os vizinhos de um nó qualquer também são vizinhos entre si.
%% ILUSTRAR COM FIGURAS'
% Ronie (2017-06-17) Vou explicar o coeficiente de agrupamento com figuras na seção 2.1, assim, qdo chegar aqui o conceito já vai estar ok. De qq maneira acho que boa ideia colocar uma figura para ilustrar o modelo aqui (Acho que a imagem não ficou lá grandes coisas, mas tento melhorar depois).

\begin{figure}[ht]
    \centering
    \includegraphics[scale=0.6]{small-world.png}
    \caption{Modelo de Watts-Strogatz}
    \source{\citeonline{Watts1998-wt}, traduzido pelo autor}
\end{figure}    

Uma rede produzida pela modelo de Gilbert ou Erdős-Rényi possui uma distância pequena entre dois nós quaisquer, a distância média esperada é $\avg{d} \approx ln N / ln \avg{k}$, onde $N$ é o número de nós da rede e $\avg{k}$ é a quantidade média de conexões dos nós. Ou seja, redes aleatórias apresentam a propriedade de mundo pequeno. Entretanto, essas redes possuem um coeficiente de agrupamento baixo e é esperado que os vizinhos de um nó qualquer tenham pouca ou nenhuma conexão entre si. O coeficiente de agrupamento esperado é $\avg{k}/N$.

%% A QUANTIDADE MÉDIA DE CONEXÕES DOS NÓS É O MESMO QUE O GRAU MÉDIO DOS NÓS?
% Ronie (2017-06-17): Sim, o grau é definido como o número de conexões de um nó. Também é equivalente ao número de vizinhos dele. Agora com a seção com conceitos acima acho que vai ficar mais claro.

Por outro lado, uma \textit{rede reticulada} possui um alto coeficiente de agrupamento, mas uma distância bastante alta entre dois nós aleatórios. Uma \textit{rede reticulada} é aquela cujos nós são dispostos regularmente em um plano e cada um se conecta aos seus vizinhos mais próximos. Uma cidade com quarteirões perfeitamente quadrados é um exemplo de rede reticulada. O modelo de Watts-Strogatz cria uma rede mais próxima às redes reais, com distância entre nós como uma rede aleatória e o coeficiente de agrupamento similar ao esperado em um reticulado.

O algoritmo para geração de uma rede aleatória Watts-Strogatz pode ser definido como:

\begin{enumerate}
\item Inicie com uma rede circular com $N$ nós.

\item Conecte cada nó ao seu sucessor e ao seguinte no círculo.

\item Com probabilidade $p$, reconecte um dos nós de cada conexão a outro aleatoriamente escolhido.
\end{enumerate}

Quando $p = 0$ o modelo é um reticulado, ele apresenta grande distância entre dois nós aleatórios e alto coeficiente de agrupamento. Quando $p = 1$ o modelo se torna um equivalente ao de Erdős-Rényi, com pequena distância entre nós aleatórios e baixo coeficiente de agrupamento. Pequenas distâncias e alto coeficiente de agrupamento surgiram com $0,001 < p < 0,1$ nos experimentos de Watts e Strogatz para redes de 1.000 nós e média de 10 conexões por nó~\cite{Watts1998-wt}.


\begin{comment}
%====================================
\subsubsection{Modelo de Barabási-Albert} \label{sec:modelo-barabasi-albert}
\end{comment}

%====================================
\subsubsection{Modelo de Configuração} \label{sec:modelo-configuracao}

O \textit{Modelo de Configuração} (\textit{Configuration Model} - CM) é capaz de criar uma rede aleatória obedecendo exatamente uma sequência de graus. Na comparação com uma rede real, esse modelo permite verificar se as propriedades da rede podem sem obtidas apenas devido a distribuição de graus, confirmando o modelo nulo, ou se a propriedade é dependente de outro fator, rejeitando-o.

O processo do CM é baseado na reconexão aleatória entre nós, porém preservando a sequência de graus. As etapas do algoritmo são:

\begin{enumerate}
\item Atribua um grau a cada nó, representado por \enquote{meias-conexões}. Ou seja, um ponto onde uma conexão deverá ser \enquote{encaixada}, mas ainda sem a conexão em si. Por exemplo, um nó de grau três deverá possuir três \enquote{encaixes}.
\item Crie uma lista com os encaixes de todos os nós.
\item Selecione aleatoriamente dois encaixes da lista e crie uma conexão entre eles. Remova os encaixes usados.
\item Repita o processo com a lista restante até que ela se esvazie.
\end{enumerate}

Como os encaixes são utilizados aos pares no algoritmo, é fácil perceber que é necessário um número par de encaixes para que ele termine. Como o número de encaixes corresponde a sequência de graus, um dos requisitos para que esse algoritmo se complete é que a soma dos graus seja par. Se a sequência de graus for extraída de uma rede real, isso não é um problema, pois toda rede tem a soma de graus par. Porém, é uma restrição a ser levada em conta ao se gerar a sequência de graus a partir de uma distribuição pré-definida.

Outra limitação do algoritmo é que ele gera laços e conexões múltiplas. Em redes de grande tamanho, o número de conexões geradas dessa forma é bastante pequeno e a recomendação é que o fato pode ser ignorado~\cite{Barabasi2016-rn}. Por outro lado, em redes livres de escala, os \textit{hubs} são justamente os nós com maior probabilidade de receberem laços e conexões múltiplas.

A simplicidade do algoritmo permite uma análise probabilística simples. Por exemplo, a probabilidade de uma conexão entre dois nós $P_{ij}$ é:

\begin{equation} \label{eq:probabilidade-conexao}
P_{ij} \defn \frac{k_i k_j}{2L - 1}
\end{equation}

\todo[inline]{Essa conta está estranha. Peguei ela do livro do Barabási, mas acredito que a conta é $k_i k_j / 2L$ OU $k_i k_j / 2L - k_i$.}
%% QUANDO ELE COLOCA A EQUAÇÃO DESSA FORMA ELE ESTÁ DESCONSIDERANDO O NÓ KI. NO LIMITE A EQUAÇÃO SE TORNA Pij=KiKj/2L.
% Ronie (2017-06-17): Pois é... mas pensei que se ele desconsiderasse o nó i, então ele deveria desconsiderar o _grau_ Ki, tornando a equação Pij=KiKj/(2L - Ki) =/ Estou pensando certo? Por outro lado, entendo que no limite a equação é como vc propôs. Eu poderia escrevê-la Pij ~ KiKj/2L (assintoticamente equivalente)? SIM, MAS DEIXE CLARO QUE A APROXIMAÇÃO VALE PARA VALORES GRANDES DE L

Onde $k_i$ e $k_j$ são os graus dos nós e $L$ é o número total de conexões na rede. Como a soma de graus da rede é igual a duas vezes o número de conexões, ou seja $K = 2L$, a mesma fórmula pode ser expressa como:

\begin{equation}
P_{ij} \defn \frac{k_i k_j}{K - 1}
\end{equation}

Onde $K$ é a soma dos graus.

É possível evitar os laços e conexões múltiplas incluindo-se no algoritmo a restrição de sortear um novo par de encaixes se eles pertencerem ao mesmo nó ou se já houver uma conexão entre eles, entretanto, a análise de probabilidades se torna mais complexa.

O Modelo de Configuração pode ser facilmente adaptado para redes direcionadas com as seguintes adaptações:

%% ESSA PROPOSTA DE ADAPTAÇÃO PARA REDES DIRECIONADAS É SUA? CASO AFIRMATIVO É PRECISO DESTACAR COMO UMA CONTRIBUIÇÃO DA DISSERTAÇÃO
% Ronie (2017-06-18) Coloquei essas contribuições de uma maneira bem genérica como último parágrafo na introdução, será que é suficiente?

\begin{enumerate}
\item Atribua um grau de saída e um grau de entrada a cada nó.
\item Crie uma lista de \textit{encaixes de saída} e uma lista de \textit{encaixes de entrada} com a sequência de graus da saída e a sequência de graus de entrada, respectivamente.
\item Selecione aleatoriamente um encaixe da lista de saída e outro da lista de entrada e crie uma conexão entre elas. Remova os encaixes usados das suas listas.
\item Repita o processo com as listas restantes até que elas se esvaziem.
\end{enumerate}

Pelo algoritmo, nota-se que as listas de encaixe precisam ser do mesmo tamanho, ou seja, a soma da sequência de graus de saída precisa ser igual a soma da sequência de graus de entrada.


\begin{figure}[ht]
    \centering
    \subfloat[][separação dos encaixes e reconexão] {
        \includegraphics[scale=0.3]{dissertacao-modelo-de-configuracao-2.png}
        \label{fig:modelo-configuracao-reconexao}
    } \\    
    \subfloat[][rede original] {
        \includegraphics[scale=0.4]{dissertacao-modelo-de-configuracao-1.png}
        \label{fig:modelo-configuracao-antes}
    } \qquad \quad
    \subfloat[][rede gerada pelo modelo] {
        \includegraphics[scale=0.4]{dissertacao-modelo-de-configuracao-3.png}
        \label{fig:modelo-configuracao-depois}
    }    
    \caption{Modelo de Configuração}
    \label{fig:modelo-configuracao}
    \source{Elaboração do autor}
\end{figure}

A Figura~\ref{fig:modelo-configuracao} ilustra o processo em uma rede de seis nós e sete conexões. A rede original pode ser vista na Figura~\ref{fig:modelo-configuracao-antes}, cada conexão gera um encaixe para cada nó que conecta, marcados em cores na Figura~\ref{fig:modelo-configuracao-reconexao}, os encaixes então são reconectados aleatoriamente, modificando as conexões, mas preservando o grau de cada nó. O processo resulta na rede exibida na Figura~\ref{fig:modelo-configuracao-depois}.

%====================================

\subsubsection{Modelo de Configuração Ponderada} \label{sec:modelo-configuracao-ponderada}

O Modelo de Configuração descrito na Seção \ref{sec:modelo-configuracao} é aplicável a redes direcionadas ou não, porém são necessárias adaptações para sua aplicação em redes ponderadas. Uma adaptação possível é proposta por \citeonline{Serrano2005-ms}, embora sua proposta limite-se à análise probabilística, sem apresentar explicitamente o algoritmo equivalente. Em seu artigo, \citeonline{Newman2004-by}, propõe que diversas redes ponderadas podem ser analisadas projetando seu equivalente em \textit{multigrafos}, ou seja, transformando uma rede ponderada em uma rede sem pesos, mas que permita que nós tenham múltiplas conexões entre si. Em particular, os argumentos de Newman se baseiam em redes que representam fluxos, de forma que uma conexão de peso 10, representando um fluxo de 10 unidades passando entre dois nós, pode ser transformada em 10 conexões entre os mesmos nós, cada uma representando uma unidade.

A proposta de Newman é perfeitamente aplicável para esse trabalho, onde a rede modela exatamente o \textit{fluxo de pessoas} entre duas ocupações e o peso da conexão significa o fluxo de pessoas entre elas.

Com base nos trabalhos mencionados acima, propõe-se o seguinte algoritmo adaptado para o Modelo de Configuração:
%% É PRECISO EXPLICITAR NOS OBJETIVOS (OU EM UMA SEÇÃO CHAMADA CONTRIBUIÇÕES) QUE ESTAMOS APRESENTANDO UMA ADAPTAÇÃO DO MODELO DE CONFIGURAÇÃO PARA TRATAR REDES PONDERADAS
% Ronie (2017-06-18) Fiz só uma pequeno parágrafo genérico lá na introdução, acha que precisa detalhar?

\begin{enumerate}
\item Atribua uma força (como descrito na Seção~\ref{sec:forca}) a cada nó e crie uma sequência de forças de maneira análoga à sequência de graus.
\item Crie uma lista com os encaixes para os nós com um número de encaixes igual a força de cada nó.
\item Selecione aleatoriamente dois encaixes da lista, se os encaixes pertencerem ao mesmo nó, descarte-os e repita esse passo.
\item Crie uma conexão entre os encaixes selecionados. Remova-os da lista de encaixes.
\item Repita o processo com a lista restante até que ela se esvazie.
\item Unifique as conexões múltiplas atribuindo a elas o peso igual ao número de conexões.
\end{enumerate}

%% E POR QUE VOCÊ NÃO COLOCA UMA VERIFICAÇÃO PARA BLOQUEAR OS LAÇOS?
% Ronie (2017-06-17) *cara de tacho* ¬¬ ... é... pq não? =/ Coloquei agora :P 

%% ILUSTRE COM UM EXEMPLO
Finalmente, a maior dificuldade em relação ao algoritmo proposto é que, apesar da distribuição de força entre os nós ser preservada, a distribuição de graus da rede é descaracterizada, pois, apesar da força de cada nó ser preservada individualmente, as conexões são decompostas e podem se conectar a nós diferentes. Um nó de força 10 e grau 1 terminará como um nó de força 10 e grau 10, já que a probabilidade de 10 conexões aleatoriamente selecionadas resultarem nos mesmos pares de nós é muito pequena.

\todo[inline]{Calcular a probabilidade e traçar o equivalente de probabilidade de conexão entre dois nós, mas agora considerando a força e justificar a observação sobre assortatividade}

Abaixo é descrito a algoritmo equivalente de Modelo de Configuração Ponderada para redes direcionadas:

\begin{enumerate}
\item Atribua uma força de entrada e uma força de saída a cada nó e crie duas sequências de forças, uma para cada tipo.
\item Crie duas listas de encaixes, uma lista possui os encaixes de entrada, com um número de encaixes igual à força de entrada de cada nó. O mesmo procedimento deve ser feito para se criar uma lista de encaixes de saída.
\item Selecione aleatoriamente um encaixe da lista de entrada e outro da lista de saída. Se os encaixes pertencerem ao mesmo nó, remova-os e repita esse passo.
\item Crie uma conexão entre os encaixes selecionados. Remova-os das respectivas listas.
\item Repita o processo caso as listas se esvaziem.
\item Unifique as conexões múltiplas de mesma direção atribuindo a elas o peso igual ao número de conexões.
\end{enumerate}
%% ILUSTRE COM UM EXEMPLO
\todo[inline]{Sugerir uma modificação levando em conta a assortatividade? Fica interessante que dá para comparar se algumas características da rede aparecem apenas por conta disso.}

%====================================
\subsubsection{Modelo Aleatório de Preservação de Grau} \label{sec:modelo-preservacao-grau}

Esse modelo preserva a distribuição de graus da mesma forma que o Modelo de Configuração, com a vantagem de naturalmente não permitir laços \cite{Barabasi2016-rn}.

O Modelo Aleatório de Preservação de Grau consiste em escolher duas conexões aleatoriamente e trocar os nós entre elas. O algoritmo se segue:

\begin{enumerate}
\item Selecione aleatoriamente duas conexões da rede: $(i_a, i_b)$ e $(j_a, j_b)$.
\item Troque os nós entre as conexões, formando $(i_a, j_b)$ e $(j_a, i_b)$. 
\item Se alguma das conexões geradas já existir, abandone-as e repita a operação com outras duas conexões escolhidas aleatoriamente.
\item Repita até que todas as conexões tenham sido trocadas ao menos uma vez.
\end{enumerate}

Como os nós selecionados apenas trocam suas conexões, o grau de cada nó é preservado (daí o nome do modelo). Esse algoritmo provoca apenas uma \enquote{reconexão} entre os nós, preservando as outras características topológicas.

Outra característica do algoritmo é que ele randomiza a assortatividade, efetivamente tornando-a nula. Dessa forma, é possível usar o algoritmo para verificar se a assortatividade da rede é causada por mera aleatoriedade ou se existem outros fatores.

Esse algoritmo permanece idêntico para redes direcionadas, pois preserva também o sentido da conexão. Ele poderia ser usado em redes ponderadas, entretanto, apesar de preservar a distribuição de grau, a distribuição de força é afetada.

%====================================
\subsubsection{Modelo Aleatório de Preservação de Força}

O modelo proposto aqui segue a mesma justificativa apresentada na Seção~\ref{sec:modelo-configuracao-ponderada}, seguindo a proposta de \citeonline{Newman2004-by} em transformar uma rede ponderada em um multigrafo.
%% SE ESTÁ SENDO PROPOSTO AQUI, DEVE SER DESTACADO NOS OBJETIVOS/CONTRIBUIÇÕES
O algoritmo é similar ao Modelo Aleatório de Preservação de Grau, mas sem a necessidade de se verificar a existência de uma conexão prévia.

\begin{enumerate}
\item Transforme a rede ponderada em um multigrafo. Uma conexão se transforma em $n$ conexões com mesma origem e destino, onde $n$ é o peso da conexão original.
\item Selecione aleatoriamente duas conexões da rede: $(i_a, i_b)$ e $(j_a, j_b)$.
\item Troque os nós entre as conexões, formando $(i_a, j_b)$ e $(j_a, i_b)$. 
\item Repita até que todas as conexões tenham sido trocadas ao menos uma vez.
\item Unifique as conexões múltiplas, atribuindo a elas um peso igual ao número de conexões entre os dois nós.
\end{enumerate}

Da mesma maneira que o modelo proposto na Seção~\ref{sec:modelo-configuracao-ponderada}, esse algoritmo preserva a força de cada nó, mas descaracteriza a distribuição de graus.

%====================================
\subsubsection{Modelo de Parâmetro Oculto}

O Modelo de Parâmetro Oculto não preserva o número de conexões ou a distribuição de grau da rede, mas é capaz de gerar redes com topologias similares~\cite{Barabasi2016-rn}.

Nesse modelo, cada nó recebe um parâmetro oculto $\eta_i$ que é usado para se criar uma certa distribuição de probabilidade $\rho(\eta)$ para selecionar o nó que receberá conexões. A partir de $N$ nós desconectados, o algoritmo é descrito a seguir:

\begin{enumerate}
\item Atribua uma parâmetro $\eta_i$ a cada nó.
\item Cada par de nós possível deve ser conectado com probabilidade:
\begin{equation}
P_{ij} \defn \frac{\eta_i \eta_j}{\avg{\eta}N}
\end{equation}
\end{enumerate}

O número esperado de conexões é:

\begin{equation}
L \defn \frac{\avg{\eta}N}{2} 
\end{equation}

Da mesma forma que os modelos anteriores, esse modelo tende a criar uma rede assortativa, onde os nós com parâmetro de maior valor tendem a se conectar mais frequentemente entre si do que a nós de valor menor.

%====================================
\subsubsection{Modelo de Xulvi-Brunet e Sokolov}

Esse modelo procura gerar redes com correlação de grau pré-definida. Ele é um modelo nulo com assortatividade ou dissortatividade controlada por um parâmetro $p$. \cite{Xulvi-Brunet2004-qg}.

O algoritmo é similar ao Modelo de Preservação de Grau e pode ser descrito como:

\begin{enumerate}
\item Selecione aleatoriamente duas conexões da rede.
\item Ordene os nós das conexões $a, b, c, d$, pelo seu grau de modo que $k_a \le k_b \le k_c \le k_d$.
\item Com probabilidade $p$, reconecte os nós de maior grau entre si formando $(c, d)$ e os nós de menor grau entre si formando $(a, b)$, caso contrário, reconecte os nós aleatoriamente.
\item Se alguma das conexões geradas já existir, abandone-as e repita a operação com outras duas conexões escolhidas aleatoriamente.
\item Repita até uma condição de parada pré-estabelecida.  
\end{enumerate}
 
O artigo original não detalha um ponto de parada específico, porém a aplicação repetida dos passos leva a criação de uma rede com assertividade controlada por $p$. Com $p = 0$ a rede se comporta como uma rede aleatória, $p = 1$ leva a uma rede completamente assortativa.
 
\citeonline{Barabasi2016-rn} propõem uma modificação no Passo 3 para gerar redes dissortativas, reconectando os nós de grau mais diverso entre si com probabilidade $p$, formando as conexões $(a, d)$ e $(b, c)$.

%% PRECISAMOS APRESENTAR EXEMPLOS DE CADA MODELO

%====================================
\subsection{Medidas de Rede} \label{sec:medidas-de-rede}

As medidas descritas nessa seção são usadas para comparação com os modelos nulos selecionados para o trabalho, bem como para encontrar características relevantes dentro da própria rede.

Para comparação com os modelos nulos, são considerados estimadores de centralidade (média e mediana), dispersão (desvio padrão e intervalo interquartil), distribuição e correlação entre as várias medidas.

%====================================
\subsubsection{Distância Geodésica} \label{sec:distancia-geodesica}

O menor caminho entre dois nós é chamado \textit{caminho geodésico} e o número de conexões em um caminho geodésico é chamado \textit{distância geodésica}.
%% SUGIRO QUE TODO CONCEITO SEJA COLOCADO EM ITÁLICO E NÃO ENTRE ASPAS.
% Ronie: De acordo, alterando...

Seja o caminho $P$ entre os nós $i_1$ e $i_n$ uma lista ordenada de $n$ conexões:

\begin{equation} \label{eq:caminho}
P(i_1,i_n) \defn \{(i_1,i_2), (i_2,i_3), \ldots, (i_{n-1},i_n)\}
\end{equation}

A distância geodésica entre $i$ e $j$ pode ser definida como a menor distância entre todos os caminhos entre esses nós:

\begin{equation} \label{eq:distancia-geodesica}
d_{ij} \defn min|P(i, j)| 
\end{equation}

Como o MCar é um grafo direcionado e ponderado, a distância geodésica considera o peso das conexões. Como o peso das conexões representa um atributo desejável, ou seja, quanto maior o peso, maior o fluxo de pessoas entre duas conexões (um atributo de afinidade, não de custo),  a distância geodésica para grafos ponderados~\cite{Newman2001-sl} é definida por:

\begin{equation} \label{eq:distancia-ponderada}
\weighted{d}_{ij} \defn min\left(\frac{1}{w_{ih}} + \ldots + \frac{1}{w_{hj}}\right)
\end{equation}

Onde $w_{ih}$ é o peso da conexão entre os nós $i$ e $h$ ou indefinido se a conexão é inexistente.

Adaptando-se a fórmula para um grafo direcionado, onde $\wout_{ij}$ representa o peso em um arco e $\wout_{ij}$ é indefinido se não há uma conexão entre $i$ e $j$:

\begin{equation} \label{eq:distancia-ponderada-direcionada}
\weighteddir{d}_{ij} \defn min\left(\frac{1}{\wout_{ih}} + \ldots + \frac{1}{\wout_{hj}}\right)
\end{equation}

%====================================
\subsubsection{Centralidade de Grau e Força} \label{sec:forca}

A \textit{centralidade de grau} ou \textit{degree centrality} mede o quão conectado é um nó, quanto maior o número de conexões, maior a centralidade de grau.

A centralidade de grau é simplesmente o grau de um nó e pode ser calculada segundo a Equação~\ref{eq:centralidade-grau}.

\begin{equation} \label{eq:centralidade-grau}
c_k(i) \defn \sum_{j} a_{ij}
\end{equation}

Em que $a_{ij}$ é 1 se existe uma conexão não direcionada $i, j$ e 0 caso contrário, e $i,j \in N$. 

Para redes direcionadas, a centralidade pode ser separada de acordo com a direção das conexões. A \textit{centralidade de grau de entrada} corresponde ao número de conexões que termina em um nó, já a \textit{centralidade de grau de saída} corresponde ao número de conexões que partem de um nó.

No caso de um grafo ponderado não direcionado, a centralidade de grau deve considerar não somente o número de conexões, mas também seus pesos. \citeonline{Barrat2004-xf} propõem o equivalente da centralidade de grau para grafos ponderados, a \textit{força} (\textit{strength}) do nó, como a soma do peso das conexões adjacentes ao nó.

\begin{equation} \label{eq:forca}
s_i \defn \sum_{j} w_{ij}
\end{equation}

Onde $w_{ij}$ possui o valor do peso entre os nós $i$ e $j$, ou 0 se não há conexão entre eles.

O presente trabalho trata de uma rede ponderada e direcionada, portanto são apresentadas variações de \textit{força} considerando a direção e peso das conexões.

O equivalente a centralidade de grau de entrada, nesse caso, é a força de entrada, análoga a Equação~\ref{eq:forca}, considerando apenas as conexões de entrada no nó.

\begin{equation} \label{eq:forca-entrada}
\linkin{s}_i \defn \sum_{j} \win_{ij}
\end{equation}

Onde $\win_{ij}$ é o peso da conexão direcionada de $j$ com destino a $i$.

Analogamente à força de entrada, a força de saída pode ser calculada como:

\begin{equation} \label{eq:forca-saida}
\linkout{s}_i \defn \sum_{j} \wout_{ij}
\end{equation}

Onde $\wout_{ij}$ é o peso da conexão direcionada de $i$ para $j$.

%====================================
\subsubsection{Distribuição de Graus e Forças} \label{sec:distribuicao-grau-forca}

A distribuição de graus reflete a probabilidade de se encontrar um nó de grau $k$ em uma rede. Nesse trabalho, essa probabilidade é representada por $P_k$.

Muitas características importantes das redes dependem dessa distribuição, desde o comportamento na transmissão de doenças até o quão uma rede de comunicações é vulnerável a ataques ou falhas. Um dos fatores que contribuíram para a distinção de redes complexas das demais iniciou-se com a descoberta de \cite{Barabasi1999-sn} que redes reais frequentemente possuíam distribuição logarítmica de grau, com poucos nós detendo a maior parte das conexões (alto grau) e a maior parte dos nós com apenas poucas conexões (baixo grau). Em outras palavras, é possível observar na distribuição de grau das redes reais a existência de \textit{hubs}, ausentes em redes puramente aleatórias.

É possível ter um vislumbre da distribuição de graus de uma rede específica através de um simples histograma, onde o eixo $x$ possui o grau e o eixo $y$ o número de nós encontrados na rede com aquele grau. Entretanto, para se obter uma distribuição apropriada, é preciso normalizar as colunas do histograma para que elas somem 1, para isto, basta dividir o valor de cada coluna pela soma de todos os graus da rede.
%% ILUSTRAR COM UMA REDE E SEU HISTOGRAMA

Assumindo $N$ como o número de nós da rede e $N_k$ como o número de nós de grau $k$, a probabilidade $P_k$ de se encontrar um nó com grau $k$ é definida como:

\begin{equation} \label{eq:probabilidade-grau}
P_k \defn \frac{N_k}{N}
\end{equation}

Essa distribuição, da maneira como foi descrita, é uma distribuição discreta e responde a pergunta \enquote{qual a probabilidade de se encontrar um nó \textit{exatamente}~\todo{Existe a contraparte contínua dessa equação, a intenção é descrevê-la logo abaixo} com o grau $k$?}. A partir daí, é possível responder quantos nós são esperados com um determinado grau $k$ usando:

\begin{equation}
N_k = NP_k
\end{equation} 

De maneira análoga, a \textit{distribuição de forças} de uma rede é feita substituindo-se o grau $k$ pela força $s$ do nó. Força é definida como a soma dos pesos das conexões que incidem sobre um nó (mais na Seção~\ref{sec:forca}). A probabilidade $P_s$ de se encontrar um nó de força $s$ em uma rede com $N$ nós é:

\begin{equation} \label{eq:probabilidade-forca}
P_s \defn \frac{N_s}{N}
\end{equation}

Onde $N_s$ é a quantidade de nós com força $s$.

Em redes ponderadas é possível traçar correlações entre força e grau. Se há uma \textit{correlação positiva}, isso significa que nós mais conectados possuem também peso maior, ou seja, em uma rede com \textit{hubs}, não somente eles conectam uma quantidade maior de nós, como a conexão entre eles também é mais forte. É possível ilustrar esse caso com a rede de computadores que forma a internet. Os \textit{backbones} (\textit{hubs}) dessa rede não apenas conectam mais computadores, como o tráfego de suas conexões é muito mais intenso do que o tráfego entre dois computadores no extremo da rede. Por outro lado, uma \textit{correlação negativa} entre grau e força significa que nós menos conectados possuem conexões mais fortes entre si do que com nós de alta conexão. Um caso ilustrativo para esse cenário é uma rede de relacionamentos entre as pessoas: as conexões locais, como família, tendem a possuir muito mais interação entre si do que interações com celebridades.
%% É POSSÍVEL AFIRMAR QUE MENOS CONEXÕES IMPLICAM EM MAIOR FORÇA? ISSO NÃO ME PARECE PRECISO.
% Ronie: Não, não implica mesmo. Na verdade a correlação entre número de conexões e força é uma medida bastante interessante. Às vezes o número de conexões é grande e a força tb. (Mas deu pra ver que meu texto ficou confuso, alterei ele, veja como ficou?).

A correlação entre grau e força pode indicar modelos nulos adequados para redes reais, correlações perfeitas podem significar que a força pode ser descartada no modelo nulo (por não agregar informação) ou que pode ser derivada posteriormente a partir da sequência de graus resultante.\todo{Aqui tem coisa!}

Em grafos direcionados é possível separar cada uma das distribuições em distribuições de entrada e saída. A \textit{probabilidade de distribuição de grau de saída} (Eq. \ref{eq:probabilidade-grau-saida}), \textit{probabilidade de distribuição de grau de entrada} (Eq. \ref{eq:probabilidade-grau-entrada}), \textit{probabilidade de distribuição de força de saída} (Eq. \ref{eq:probabilidade-forca-saida}) e \textit{probabilidade de distribuição de força de entrada} (Eq. \ref{eq:probabilidade-forca-entrada}) são similares às Equações \ref{eq:probabilidade-grau} e \ref{eq:probabilidade-forca} e são listadas abaixo de maneira resumida:

\noindent
\begin{tabularx}{\linewidth}{@{}XX@{}}
  \begin{equation} \label{eq:probabilidade-grau-saida}
  	\linkout{P}_k \defn \frac{\linkout{N}_k}{N}
  \end{equation} &
  \begin{equation} \label{eq:probabilidade-grau-entrada}
  	\linkin{P}_k \defn \frac{\linkin{N}_k}{N}
  \end{equation} \\
  \begin{equation} \label{eq:probabilidade-forca-saida}
  	\linkout{P}_s \defn \frac{\linkout{N}_s}{N}
  \end{equation} &
  \begin{equation} \label{eq:probabilidade-forca-entrada}
  	\linkin{P}_s \defn \frac{\linkin{N}_s}{N}
  \end{equation}
\end{tabularx}

\todo[inline]{Pensei em explorar as correlações entre elas aqui, mas vou deixar isso para quando tirar os dados da MCar, se existir alguma coisa, menciono lá.}

\begin{comment}
%====================================
\subsubsection{Centralidade de Proximidade}

Closeness centrality.
\end{comment}

%====================================
\subsubsection{Centralidade de Intermediação} \label{sec:intermediacao}

A \textit{centralidade de intermediação} ou \textit{betweenness centrality} é a medida de quão um nó é importante em relação ao fluxo que passa por uma rede. Ela é feita contando-se o número de caminhos geodésicos dos quais um nó participa: quanto maior a participação, maior sua centralidade por intermediação.

Mais precisamente, a intermediação do nó $i$, $c_b(i)$, é calculada por:

\begin{equation}
c_b(i) \defn \sum_{h \neq i \neq j} \frac{\delta_{hj}(i)}{\delta_{hj}}
\end{equation}

Onde $N$ é o conjunto de nós e $h, i, j \in N$. A função $\delta_{hj}$ é o número de caminhos geodésicos entre os nós $h$ e $j$, e $\delta_{hj}(i)$ é número de caminhos de geodésicos entre $h$ e $j$ que passam pelo nó $i$.

Em uma rede direcionada e ponderada é preciso considerar não apenas o número de caminhos, mas também seu peso. No caso do trabalho presente, isso significa o número de profissionais que passam por uma ocupação. \citeonline{Opsahl2010-zg} propõem uma versão de intermediação para esse caso:

\begin{equation}
\weighteddir{c}_{b}(i) \defn \sum_{h \neq i \neq j} \frac{\weighteddir{\delta}_{hj}(i)}{\weighteddir{\delta}_{hj}}
\end{equation}

Onde $\weighteddir{\delta}_{hj} = |\weighteddir{d}_{hj}|$ é o número de menores caminhos considerando a distância geodésica para grafos direcionados e ponderados (Equação~\ref{eq:distancia-ponderada}). Na versão original, essa equação possui um parâmetro para ajuste do peso, nesse trabalho o parâmetro foi considerado com valor 1 e foi removido da equação por questões de simplicidade.

\subsubsection{Coeficiente de Agrupamento} \label{sec:coeficiente-agrupamento}

O \textit{coeficiente de agrupamento local} é a medida de quanto os vizinhos de um nó estão conectados entre si e é dado por:

\begin{equation}
c_c(i) \defn \begin{cases}
    \frac{2m_i}{k_i(k_i - 1)} & \text{se}\ k_i > 1 \\
    \text{indefinido}         & \text{caso contrário}
  \end{cases}
\end{equation}

Onde $m_i$ é o número de conexões entre os vizinhos do nó $i$, e $k_i$ é o número de conexões de $i$.

O coeficiente de agrupamento local pode ser estendido para grafos direcionados distinguindo-se a direção da conexão.

\begin{equation}
\linkboth{c}_c(i) \defn \begin{cases}
    \frac{\linkboth{m}_i}{k_i(k_i - 1)} & \text{se}\ k_i > 1 \\
    \text{indefinido}                  & \text{caso contrário}
  \end{cases}
\end{equation}

Onde $\linkboth{m}_i$ é o número de arcos entre os vizinhos de $i$.

Em um grafo ponderado, \citeonline{Barrat2004-xf} oferecem a seguinte versão do coeficiente de agrupamento:

\begin{equation}
\weighted{c}_c(i) \defn \frac{1}{s_i(k_i - 1)} \sum_{j,k \in N(i)} \frac{w_{ij} + w_{jk}}{2}
\end{equation}

Onde $N(i)$ é o conjunto de vizinhos de $i$, $w_{ij}$ é o peso da conexão entre os nós $i$ e $j$ e $s(i)$ é a força do nó (Equação~\ref{eq:forca}).

O \textit{coeficiente de agrupamento global} de um grafo é dado pela média dos coeficientes locais:

\begin{equation}
C_c \defn \frac{1}{|N'|} \sum_{i \in N'} c_c(i)
\end{equation}

Onde $N'$ é o conjunto de nós com grau maior que 1, ou seja, $N' = \left\lbrace i \in N \mid k_i > 1 \right\rbrace$. O coeficiente de agrupamento para um grafo ponderado é calculado da mesma forma, apenas substituindo-se o coeficiente local por sua versão ponderada.

%====================================
\subsubsection{Reciprocidade de Conexões} \label{sec:reciprocidade}

Em uma rede direcionada, a \textit{reciprocidade de conexões} corresponde à tendência de pares de nós formarem conexões mútuas entre si~\cite{Garlaschelli2004-db}.

A equação para a reciprocidade global em uma rede é dada por:

\begin{equation} \label{eq:reciprocidade}
R \defn \frac{\linkboth{L}}{L}
\end{equation}

Onde $\linkboth{L}$ é o número total de conexões mútuas e $L$ é o número total de conexões da rede. O valor de $R$ também pode ser entendido como a probabilidade de se encontrar uma conexão recíproca na rede.

Nos extremos, uma rede direcionada que não possua conexões mútuas tem $R = 0$ e uma rede em que todas as conexões são bidirecionais possui $R = 1$.

Segundo ~\citeonline{Garlaschelli2004-db}, $R$ não permite uma comparação efetiva entre redes, pois é preciso levar em conta se o valor é maior ou menor que o esperado em uma rede aleatória de tamanho equivalente em número de nós e conexões. Valores maiores do que o esperado em redes aleatórias caracterizam redes \enquote{recíprocas}, valores menores caracterizam redes \enquote{anti-recíprocas} e valores similares aos encontrados em redes aleatórias são características de redes \enquote{irrecíprocas}\todo{\enquote{irrecíproca} ou \enquote{arrecíproca}?}.

A equação para reciprocidade $\rho$ proposta por ~\citeonline{Garlaschelli2004-db} se resume a:

\begin{equation} \label{eq:reciprocidade-rand}
\rho \defn \frac{R - R^\textit{rand}}{1 - R^\textit{rand}}
\end{equation}

Onde $R^\textit{rand}$ é a reciprocidade encontrada em uma rede aleatória equivalente.

Considerando que a reciprocidade em uma rede aleatória é dada em função da sua quantidade de nós $N$ e conexões $L$, considerando-se $\noloop{L}$ como o número de conexões excluindo-se laços, é possível obter $R^\textit{rand}$ como:

\begin{equation}
R^\textit{rand} \defn \frac{\noloop{L}}{N(N - 1)}
\end{equation}

Dessa forma, a conexão mútua esperada em uma rede aleatória é equivalente a probabilidade de se encontrar uma conexão entre quaisquer dois nós. \todo{Preciso de uma ajuda aqui, $R^\textit{rand}$ é simplesmente a densidade de conexões?}

Nos extremos, se uma rede é composta apenas por conexões mútuas, então $\rho = 1$. No caso de uma rede irrecíproca é esperado que $\rho \approx 0$. Já em redes completamente anti-recíprocas, onde $R = 0$, é esperado que $\rho = \rho_\text{min}$:

\begin{equation}
\rho_\textit{min} \defn \frac{- R^\textit{rand}}{1 - R^\textit{rand}}
\end{equation}

É importante notar que, se $R^\textit{rand} > 1/2$, é impossível que não existam conexões bidirecionais, ou seja:

\begin{equation}
R^\textit{rand} > \frac{1}{2} \Rightarrow R > 0
\end{equation}

Portanto $\rho_\text{min}$ só é aplicável se $R^\textit{rand} < 1 / 2$.

Para redes ponderadas, \citeonline{Squartini2013-ni} propõem uma abordagem baseada em dois componentes, o \textit{peso recíproco} e o \textit{peso ponderado}. Considerando-se $w_{ij}$ como o peso da conexão partindo de $i$ até $j$ e a ausência de conexão representada por $w_{ij} = 0$ é possível decompor um par de conexões recíprocas $(w_{ij}, w_{ij})$ na forma de uma conexão com peso recíproco $w^\leftrightsquigarrow_{ij}$ e uma conexão não-recíproca $w^\leadsto_{ij}$:

\begin{equation}
\recboth{w}_{ij} \defn min(w_{ij},w_{ji})
\end{equation}

A conexão recíproca é não direcional, ou seja, $\recboth{w}_{ij} = \recboth{w}_{ji}$.

A notação para reciprocidade \enquote{$\leftrightsquigarrow$} e não-reciprocidade \enquote{$\leadsto$} usada tem intenção de diferenciar a notação de setas simples usada no resto do texto que indica apenas a direção das conexões.

A conexão não-recíproca $\recout{w}_{ij}$ é dada por:
 
\begin{equation}
\recout{w}_{ij} \defn w_{ij} - \recboth{w}_{ij}
\end{equation}

Sendo que, por definição, $\recout{w}_{ij} > 0 \Rightarrow \recout{w}_{ji} = 0$ e vice-versa. Para fins de notação, define-se $\recin{w}_{ij} \defn \recout{w}_{ji}$.

Definidos os pesos recíprocos e não-recíprocos, é possível usar a força definida nas Equações~\ref{eq:forca-entrada} e~\ref{eq:forca-saida} para definir a \textit{força recíproca} (Equação~\ref{eq:forca-reciproca}), \textit{força não-recíproca de saída}  (Equação~\ref{eq:forca-reciproca-saida}) e \textit{força não-recíproca de entrada}  (Equação~\ref{eq:forca-reciproca-entrada}):

\begin{align}
\recboth{s}_i &\defn \sum_{i \neq j} \recboth{w}_{ij} \label{eq:forca-reciproca} \\
\recout{s}_i  &\defn \sum_{i \neq j} \recout{w}_{ij} = \recout{s}_i - \recboth{s}_i \label{eq:forca-reciproca-saida} \\
\recin{s}_i   &\defn \sum_{i \neq j} \recin{w}_{ij} = \recin{s}_i - \recboth{s}_i \label{eq:forca-reciproca-entrada}
\end{align}

Considerando o peso total da rede como:

\begin{equation}
W \defn \sum_i \linkout{s}_i = \sum_i \linkin{s}_i
\end{equation}

E definindo-se o peso total recíproco $\recboth{W}$ como:

\begin{equation}
\recboth{W} \defn \sum_i \recboth{s}_i
\end{equation}

Finalmente, define-se a reciprocidade ponderada global $\weighted{R}$ como:

\begin{equation} \label{eq:reciprocidade-global-ponderada}
\weighted{R} \defn \frac{\recboth{W}}{W}
\end{equation}

Se todos os pesos forem reduzidos a 1 a Equação~\ref{eq:reciprocidade-global-ponderada} se reduz à reciprocidade global em uma rede não ponderada (Equação~\ref{eq:reciprocidade}), como esperado.

Para o equivalente de $\rho$, em que se leva em consideração as conexões esperadas em uma rede aleatória, não há uma derivação simples da versão ponderada de $R^\textit{rand}$. A equação possui o mesmo formato da Equação~\ref{eq:reciprocidade-rand}, mas usa-se a média de reciprocidade obtida pela geração de redes ponderadas aleatórias (mais na Seção~\ref{sec:redes-aleatorias}, sobre redes aleatórias).

\begin{equation}
\weighted{\rho} \defn \frac{\weighted{R} - \avg{\weighted{R}_\textit{rand}}}{1 -  \avg{\weighted{R}_\textit{rand}}}
\end{equation}

%====================================
\subsubsection{Assortatividade} \label{sec:assortatividade}

\textit{Mistura assortativa} é um termo emprestado da ecologia e da epidemiologia que significa que elementos que compartilham características tendem a se associar mais frequentemente entre si do que com outros \cite{Newman2003-jn}. Na Ciência de Redes o termo é chamado \textit{assortatividade} e é usado para denotar a tendência de um nó se conectar a nós similares. Usualmente, quando não acompanhado de uma definição que diga o contrário, assortatividade se refere a preferência de nós se conectarem a outros de \textit{mesmo grau}. O reverso dessa propriedade é chamada \textit{dissortatividade}.

É possível medir a assortatividade usando \textit{correlação de graus}, ou seja, a média dos graus dos vizinhos de um nó.

\begin{equation}
k_\textit{nn}(i) \defn \frac{1}{k_i} \sum_{j \in N(i)} k_j
\end{equation}

Onde $N(i)$ é o conjunto de vizinhos de $i$, e $k_i$ é o grau do nó $i$.

A correlação de grau de todos os nós com grau $k$ pode ser calculada como:

\begin{equation}
K_\textit{nn}(k) \defn \frac{1}{|K(k)|} \sum_{i \in K(k)} k_\textit{nn}(i)
\end{equation}

Onde $K(k)$ é o conjunto de nós formado pelos nós de grau $k$ da rede. Ou seja, A \textit{função de correlação de grau} $K_\textit{nn}(k)$ é o grau médio dos vizinhos dos nós de grau $k$.

É importante observar que há uma assortatividade natural causada pela própria estrutura da rede: nós com mais conexões têm mais chance de se conectar a outros nós com muitas conexões. A probabilidade de uma conexão se formar entre dois nós pode ser determinada como na Equação~\ref{eq:probabilidade-conexao} (aqui repetida na Equação~\ref{eq:probabilidade-assortativa} por conveniência):

\begin{equation} \label{eq:probabilidade-assortativa}
P_{ij} \defn \frac{k_i k_j}{K}
\end{equation}

Onde $k_i$ e $k_j$ são os graus dos dois nós e $K$ é a soma de graus da rede. No caso de uma rede que não permite laços, a probabilidade de um nó $i$ se conectar a um nó $j$ é:~\todo{Checar se a Equação está correta!}

\begin{equation}
\noloop{P}_{ij} \defn \frac{k_i k_j}{K - k_i}
\end{equation}

Usando a Equação~\ref{eq:probabilidade-assortativa}, é possível perceber que nós com grande número de conexões têm probabilidade maior de se conectarem entre si do que a nós de grau pequeno. Por exemplo, em uma rede de 500 conexões (1000 graus), dois \textit{hubs} de grau 20 possuem $P(20, 20) = (20 \cdot 20) / 1000 = 400 / 1000 = 2 / 5$ enquanto que para dois nós de grau 1 a chance é de $P(1, 1) = 1 / 1000$.

Em uma rede de assortatividade neutra, a correlação de grau $K_\textit{nn}$ esperada para cada grau é \cite{Barabasi2016-rn}:

\begin{equation} \label{eq:correlacao-grau}
K_\textit{nn}(k) \defn \frac{\avg{k^2}}{\avg{k}}
\end{equation}

Ou seja, a variância dos graus $\avg{k^2}$ dividida pela média dos graus $\avg{k}$. Sendo a variância (segundo momento) de $k$ definida como $\avg{k^2} \defn 1/N \sum_i k_i^2$.

Comparando-se o valor de correlação de grau da rede real com o valor esperado para uma rede de assortatividade neutra é possível entender se a assortatividade da rede sob estudo é devida apenas à aleatoriedade ou se há outros fatores de influência.

Contudo, há um limite para a definição acima. Em algumas redes com \textit{hubs} ela irá prever um probabilidade superior a 1 para a conexão entre \textit{hubs}, efetivamente assumindo que a rede possui múltiplas conexões, o que é impossível em redes simples. Isso faz com que a rede seja \textit{estruturalmente disassortativa} \cite{Barabasi2016-rn}. Comparar correlação de grau com os valores esperados da Equação~\ref{eq:correlacao-grau} pode fazer parecer que a rede em estudo é disassortativa além do previsto pelo modelo nulo. Entretanto, esse resultado é esperado por conta da dissortatividade estrutural, ou seja, um rede aleatória também teria correlação de grau disassortativa.

Para contornar esse problema, é possível utilizar o Modelo Aleatório de Preservação de Grau (Seção~\ref{sec:modelo-preservacao-grau}) para se gerar redes de topologia idêntica, mas com a assortatividade \enquote{neutra} no limite que sua estrutura permite. Comparando-se as redes geradas desse modo com a rede sob estudo, é possível verificar se a assortatividade é de fato causada por outros fatores ou é apenas efeito da topologia.

Já a correlação de grau para redes direcionadas possui mais variações, aumentando o número de medidas e serem consideradas, mas com complexidade similar.

Em redes direcionadas é possível correlacionar os graus de entrada e saída de um mesmo nó, assumindo um fluxo pela rede, isso identifica nós que funcionam como \enquote{distribuidores}, dispersando conteúdo pelas suas conexões e nós \enquote{acumuladores} de conteúdo. Correlacionando os graus de entrada e de saída com  os graus de seus vizinhos, são possíveis mais quatro distribuições: entrada-entrada, saída-saída, entrada-saída, saída-entrada.

Já em redes ponderadas, as mesmas correlações podem ser feitas levando-se em consideração a \textit{força} ao invés do grau.

%====================================
\subsubsection{Similaridade}

A \textit{similaridade} é usada para medir se dois nós ou conexões são similares estruturalmente, ou seja, independente do seu conteúdo. De maneira simplificada, dois nós são tão mais similares quanto houverem vizinhos comuns. Já a \textit{similaridade de conexão}, como definida por \citeonline{Ahn2010-uh}, parte de conexões que compartilham um nó e verifica se os nós não compartilhados são similares.

A similaridade também é usada como medida de distância em algoritmos de agrupamento hierárquico \cite{Barabasi2016-rn}.

Existem diversas formulações para a similaridade e \citeonline{Lu2011-og} revisam dez delas sem considerar suas variações para redes direcionadas e ponderadas. Esse trabalho utiliza a similaridade baseada no índice de Jaccard (Equação~\ref{eq:similaridade-1}) e suas variações.

Sejam $i$ e $j$ nós da rede, $N_i$ o conjunto de vizinhos do nó $i$ e $N_i^+ \defn N_i \cup \{i\}$, a Equação~\ref{eq:similaridade-1} define a similaridade por vizinhança e a Equação~\ref{eq:similaridade-2} define a mesma similaridade considerando a existência de conexão direta entre os nós sendo comparados.

\noindent
\begin{tabularx}{\linewidth}{@{}XX@{}}
    \begin{equation} \label{eq:similaridade-1}
        S_{ij} \defn \frac{|N_i \cap N_j|}{|N_i \cup N_j|} 
    \end{equation} &
    \begin{equation} \label{eq:similaridade-2}
        S_{ij}^+ \defn \frac{|N_i^+ \cap N_j^+|}{|N_i^+ \cup N_j^+|} 
    \end{equation}
\end{tabularx}

Em redes direcionadas é preciso distinguir os vizinhos de entrada e saída. A similaridade em uma rede direcionada $\linkboth{S}_{ij}$ é dada pela média entre similaridade de entrada e saída (Equação~\ref{eq:similaridade-3}).

\begin{equation} \label{eq:similaridade-3}
    \linkboth{S}_{ij} \defn \frac{1}{2} \left( \frac{|\linkin{N}_i \cap \linkin{N}_j|}{|\linkin{N}_i \cup \linkin{N}_j|} + \frac{|\linkout{N}_i \cap \linkout{N}_j|}{|\linkout{N}_i \cup \linkout{N}_j|} \right)
\end{equation}

Onde $\linkin{N}_i$ é o número vizinhos de $i$ em que as conexões chegam a ele e $\linkout{N}_i$ é o número de vizinhos onde a conexão parte de $i$.

No caso de redes ponderadas e direcionadas, o índice de Jaccard pode ser generalizado no coeficiente de Tanimoto, resultando na similaridade $\weighteddir{S}_{ij}$ da Equação~\ref{eq:similaridade-3} \cite{Ahn2010-uh}. Sendo $W$ a matriz de pesos da rede e $w_{ij}$ o peso da conexão direcionada de $i$ a $j$, define-se o vetor $\vec{w}_i = (w_{i1},w_{i2},\ldots,w_{in})$ como sendo o vetor de pesos das conexões do nó $i$, onde $n$ é o número de nós da rede e $w_{ij} = 0$ se não há conexão entre os nós.

\begin{equation}
\weighteddir{S}_{ij} \defn \frac{\vec{w_i} \cdot \vec{w_j}}{|\vec{w_i}|^2 + |\vec{w_j}|^2 - \vec{w_i} \cdot \vec{w_j}}
\end{equation}

Para o agrupamento de conexões, como proposto por \citeonline{Evans2009-lq} e \citeonline{Ahn2010-uh}, é preciso definir a similaridade entre conexões. Sendo o vetor $\vec{r}_{i} \defn (r_{i1}, r_{i2}, \ldots, r_{iN})$ definido de acordo com a Equação~\ref{eq:similaridade-conexao-parcial}:

\begin{equation} \label{eq:similaridade-conexao-parcial}
r_{ij} \defn \frac{1}{k_i} \sum_{h \in N_i} w_{ih}\delta_{ij} + w_{ij}
\end{equation}

Onde $\delta_{ij} = 1$ se $i = j$ e zero caso contrário. A similaridade entre conexões $R_{(i,h),(h,j)}$ pode ser definida como \cite{Ahn2010-uh}:

\begin{equation}
R_{(i,h),(j,h)} \defn \frac{\vec{r_i} \cdot \vec{r_j}}{|\vec{r_i}|^2 + |\vec{r_j}|^2 -  \vec{r_i} \cdot \vec{r_j}}
\end{equation}

Onde $(i,h)$ e $(j,h)$ são as conexões que compartilham o nó $h$ e $i \neq h \neq j$. O nó compartilhado não é usado no cálculo da similaridade, mas é pré-requisito para considerar que duas conexões são similares. A similaridade de conexão é usada principalmente na detecção de comunidades.

%====================================
\subsubsection{Modularidade} \label{sec:modularidade}

A \textit{modularidade} é uma medida voltada para a detecção de comunidades. De certa forma ela tem uma relação com o coeficiente de agrupamento, no sentido que ambas procuram quantificar o quanto nós estão mais densamente conectados que outros.

Essa medida é aplicada apenas a um grafo que foi particionado em comunidades. Em termos gerais, ela fornece um indício se um grupo de nós é mais densamente conectado que o esperado em um modelo nulo, em caso afirmativo, esse conjunto é uma possível comunidade. Para o caso em que ela reflete um comportamento próximo do que seria esperado em uma rede aleatória, não é possível afirmar que esse grupo tenha qualquer característica especial que o transforme em uma comunidade. No caso de modularidade negativa, isto é, em que a densidade de conexões é menor do que o esperado, esse grupo não representa uma comunidade~\cite{Barabasi2016-rn}.

A modularidade $m_c$ de um grupo $c$ de nós pode ser definida como:

\begin{equation} \label{eq:modularidade-local}
m_c \defn \frac{L_c}{L} - \left( \frac{K_c}{K} \right)^2
\end{equation}

Onde $L$ é o número total de conexões da rede, $K = 2L$ é a soma de todos os seus graus, $L_c$ é o número de conexões do grupo e $K_c$ é a soma de seus graus.

Assumindo que uma rede foi particionada em $N_c$ grupos, a modularidade total $M_c$ pode ser calculada somando-se a modularidade de cada grupo:

\begin{equation} \label{eq:modularidade-global}
M_c \defn \sum_{c \in N_c} m_c
\end{equation}

O uso da modularidade para detecção de comunidades possui limitações. A primeira delas é que grupos com poucas conexões internas em relação ao tamanho da rede são agrupados indevidamente, mesmo que exista apenas uma conexão entre eles. A segunda limitação diz respeito ao maior valor possível da modularidade $M_\textit{max}$, que possui a tendência de formar um platô, dificultando a detecção da partição ótima~\cite{Barabasi2016-rn}.

Considerando as Equações \ref{eq:modularidade-local} e \ref{eq:modularidade-global}, quando dois grupos $A$ e $B$ são unidos, a diferença esperada em $M_c$ é:

\begin{equation}
\Delta M_{AB} \defn \frac{l_{AB}}{L} - \frac{k_A k_B}{2L^2}
\end{equation}

Onde $l_{AB}$ é o número de conexões que conectam os dois grupos, e $k_A$ e $k_B$ são as somas de graus de $A$ e $B$, respectivamente. Quando $k_A k_B / 2L^2 < 1$, a modularidade aumenta ($\Delta M_{AB} > 0$) se houver ao menos uma conexão entre os grupos ($l_{AB} \geq 1$). Isso significa que esses grupos unidos aumentam a modularidade, mesmo sendo grupos diferentes. Esse efeito é chamado de \textit{resolução da modularidade}.

É possível observar que a resolução da modularidade é diretamente proporcional ao número total de conexões da rede. Diminuindo-se o número de conexões, $k_A$ e $k_B$ se tornam mais relevantes que $l_{AB} / L$. Portanto, para contornar essa limitação é possível considerar os maiores grupos da partição como uma única rede e reparticioná-la. Dessa forma, os grupos artificialmente unidos por conta da resolução serão separados.

\todo[inline]{Demonstrar separando a carreira de TI aqui}

\begin{comment}
O significado de comunidades sob a perspectiva desse trabalho é detalhado na Seção~\ref{sec:deteccao-comunidade}.
\end{comment}

\begin{comment}
%====================================
\subsection{Detecção de Comunidade} \label{sec:deteccao-comunidade}

Detecção de Comunidade, Particionamento de Grafo, Agrupamento (\textit{Clustering}) ou Modelagem de Bloco (\textit{Block Modelling}) são nomes equivalentes para a atividade de se encontrar conjuntos de nós que possuem ligações mais fortes entre si do que com o resto da rede.

\citeonline{Barabasi2016-rn} propõem quatro hipótese sobre detecção de comunidade.

\begin{description}
%--------------------------------
\item [Hipótese Fundamental] \textit{A estrutura de comunidade de uma rede é codificada unicamente em seu diagrama de conexões.}

Isso significa que não é possível identificar comunidades somente pelos seus graus, nós ou quaisquer medidas que não envolvam a estrutura de conexão da rede. A detecção de comunidades só é possível analisando-se a conectividade entre os nós, seja através de uma matriz de adjacência ou outro artefato que permita a investigação das conexões.

%--------------------------------
\item [Hipótese da Conectividade e Densidade] \textit{Uma comunidade é um subgrafo densamente conectado em uma rede.}

\textit{Conectividade} significa que uma comunidade não ultrapassa as bordas de um único componente, já \textit{Densidade} significa que os membros de uma comunidade têm maior probabilidade de se conectarem entre si do que com membros fora dela.

%--------------------------------
\item [Hipótese de Aleatoriedade] \textit{Redes aleatoriamente conectadas não possuem estrutura de comunidade}

Essa hipótese é um dos fundamentos para a medida de Modularidade descrita na Seção~\ref{sec:modularidade}, embora tenha sido formalmente postulada após a concepção da medida por \citeonline{Newman2004-by}. De acordo com essa hipótese, uma comunidade é um conjunto de nós mais fortemente conectado do que o esperado em um modelo nulo equivalente. Essa definição está de acordo com a premissa de um modelo nulo que, se uma estrutura pode emergir por pura aleatoriedade, então não pode ser atribuída a ela um princípio de organização vindo de outra fonte.

%--------------------------------
\item [Hipótese de Modularidade Máxima] \textit{Para uma dada rede, a partição com modularidade máxima corresponde à estrutura ótima da comunidade.}

Essa hipótese se baseia na anterior, justificando que quanto mais longe a estrutura de uma comunidade estiver de uma estrutura aleatória, mais relevante ela é como comunidade. Entretanto, como discutido na Seção~\ref{sec:modularidade}, essa definição possui limitações quanto ao seu uso prático por conta dos problemas de \textit{resolução} e \textit{platô}.

\end{description}

O clube de caratê de Zachary.

Agrupamento hierárquico (áreas dentro de áreas)

Comunidade com sobreposição (ocupações de migração?)


%====================================
\subsection{Fluxo em Redes}

%====================================
\subsubsection{Medida de fluxo de entrada vs saída}

\todo[inline]{Encontrar o nome certo dessa medida}

Uma medida importante para esse trabalho é sua posição em uma carreira. Quanto ele está no princípio e é uma ocupação de entrada para o mercado de trabalho ou o quanto ele só é alcançável a partir de uma vasta experiência anterior.

É possível calcular essa medida, chamada \enquote{???} contabilizando o número de pessoas que entram e saem de uma ocupação. Em um grafo direcionado e ponderado isso significa a soma dos pesos das conexões de entrada, menos a soma dos pesos das conexão de saída.

A rede representada nesse trabalho não segue a lei de Kirchoff, em que o fluxo de entrada deve ser igual ao fluxo de saída. O primeiro motivo é que conexões pouco representativas (com menos de 10 pessoas se movendo de uma ocupação para outra) foram removidas da rede. O segundo motivo é que a entrada de pessoas diretamente em uma ocupação (entrada no mercado de trabalho) e sua saída (aposentadoria ou saída do mercado de trabalho) não foram mapeadas na construção da rede.

Pelas razões acima, uma diferença positiva entre entrada e saída de uma ocupação significa que aquela ocupação age como um ponto de saída do mercado de trabalho (sumidouro) e o reverso como um ponto de entrada (fonte).

\todo[inline]{A definir\ldots Por enquanto, apenas algumas ideias soltas.}

Distância geodésica é um outro nome para o comprimento do caminho mais curto entre dois vértices, contado em número de arestas (ref).
\end{comment}

\subsection{Propriedades Topológicas}

Algumas redes possuem propriedades estruturais que afetam seu funcionamento, desde resistência e falhas em redes de comunicação até facilidade na propagação de doenças contagiosas.

Duas propriedades ganharam notoriedade na virada do século com os trabalhos de \citeonline{Watts1998-wt} e \citeonline{Barabasi1999-sn}. Elas geraram um interesse crescente por redes na comunidade científica e culminaram no surgimento de uma novo campo de estudo conhecido como Ciência de Redes \cite{Barabasi2016-rn}.

\subsubsection{Mundo Pequeno} \label{sec:small-world}

Também conhecido como \enquote{seis graus de separação}, o imaginário popular diz que quaisquer duas pessoas no planeta estão a até seis amigos de distância uma da outra. Curiosamente, esse número é condizente com estudos como o de \citeonline{Backstrom2012-ny} conduzido com a rede de relacionamentos \textit{Facebook}.

A propriedade de \textit{mundo pequeno} foi descrita pela primeira vez por Frigyes Karinthy em 1929, escritor e jornalista húngaro, em uma estória chamada \enquote{Correntes}. Nela, Karinthy conecta um trabalhador da indústria automobilística a si mesmo:

\blockcquote{Karinthy1929-jg}{O trabalhador conhece o gerente da fábrica, que conhece Ford; Ford está em bons termos com o diretor geral da Publicações Hearst, que no último ano se tornou um bom amigo de Árpád Pásztor, alguém que não apenas conheço, mas é um grande amigo.}~\footnote{em tradução livre do autor}

Durante o Século XX, a propriedade de mundo pequeno aparece esparsamente e volta a ganhar atenção com o jogo \enquote{Seis Graus de Kevin Bacon} criado por três estudantes do \textit{Albright College} na década de 90 e finalmente com o trabalho de Duncan Watts e Steven Strogatz em 1998 \cite{Barabasi2016-rn}.

O fenômeno alcançou um nível de popularidade tão grande que até hoje alguns de seus efeitos podem ser observados, por exemplo, até o momento da escrita dessa pesquisa, o site de busca \textit{Google} ainda fornece a distância entre Kevin Bacon e outros atores ao se digitar no buscador o nome do ator precedido pelo texto \enquote{\textit{bacon number}}.

A propriedade de mundo pequeno se refere ao tamanho do caminho entre dois nós aleatoriamente selecionados na rede. De maneira simplificada, enquanto o número de conexões cresce exponencialmente com a adição de novos nós em uma rede, a menor distância entre dois nós quaisquer cresce em ritmo logarítmico. 

Em uma rede aleatória Erdős-Rényi, a menor distância esperada entre dois nós corresponde à distância geodésica média $\avg{d}^\textit{erdos}$ e segue a Equação~\ref{eq:distancia-erdos} \cite{Barabasi2016-rn}. Já o coeficiente de agrupamento esperado da rede $\avg{C}^\textit{erdos}$ é dado pela Equação~\ref{eq:coef-agrupamento-erdos}.

\noindent
\begin{tabularx}{\linewidth}{@{}XX@{}}
    \begin{equation} \label{eq:distancia-erdos}
        \avg{d}^\textit{erdos} \sim ln N
    \end{equation} &
    \begin{equation} \label{eq:coef-agrupamento-erdos}
        \avg{C}^\textit{erdos} = \frac{\avg{k}}{N}
    \end{equation}
\end{tabularx}

Onde $\avg{k}$ é o grau médio da rede e $N$ o número de nós da rede.

\citeonline{Barabasi2016-rn} especulam que o fato da propriedade de mundo pequeno causar surpresa é causada pela noção de proximidade ser frequentemente associada à distância física, que pode ser modelada como uma rede reticulada e não possui a propriedade de mundo pequeno.

Em um reticulado circular, como é o caso da rede em estado inicial do modelo de Watts-Strogatz, a distância geodésica média $\avg{d}^ \textit{retic}$ é dada pela Equação~\ref{eq:distancia-reticulado} e seu coeficiente de agrupamento pela Equação~\ref{eq:coef-agrupamento-reticulado}.

\noindent
\begin{tabularx}{\linewidth}{@{}XX@{}}
    \begin{equation} \label{eq:distancia-reticulado}
        \avg{d}^\textit{retic} = \frac{N}{2\avg{k}}
    \end{equation} &
    \begin{equation} \label{eq:coef-agrupamento-reticulado}
        \avg{C}^\textit{retic} = \frac{3(\avg{k} - 2)}{4 (\avg{k} -1 )}
    \end{equation}
\end{tabularx}

Redes aleatórias, por sua vez, apresentam a propriedade de mundo pequeno, mas possuem um coeficiente de agrupamento baixo. Em diversas redes reais é possível observar a propriedade de mundo pequeno, como em uma rede aleatória, simultaneamente com um alto coeficiente de agrupamento, como em redes reticuladas.

É possível observar que quando o número de nós cresce, $\avg{d}^\textit{retic} \sim N$, enquanto $\avg{d}^\textit{erdos} \sim ln N$. Ou seja, a distância em uma rede reticulada cresce linearmente com o número de nós, enquanto que essa distância cresce em proporção logarítmica numa rede aleatória. Já os coeficientes de agrupamento tendem a constantes ao se aumentar o número de nós, $\avg{C}^\textit{retic} \sim 3 / 4$, enquanto $\avg{C}^\textit{erdos} \sim 0$. Isso levou \citeonline{Watts1998-wt} a proporem um modelo de rede aleatória que combinasse ambas as características (Seção~\ref{sec:small-world}).

Posteriormente, \citeonline{Barabasi1999-sn} observam que redes reais possuem \textit{hubs}, nós que agregam uma grande quantidade de conexões, e propuseram um modelo aleatório capaz de produzir redes de mundo pequeno, com conectividade similar às redes reais, porém sem o mesmo coeficiente de agrupamento.

\subsubsection{Livre de Escala} \label{sec:scale-free}

As \textit{redes livres de escala} são redes em que a distribuição das conexões entre os nós segue uma \textit{lei de potência}. A lei de potência é uma relação entre as variáveis $x$ e $y$ expressa como $y = ax^{k}$, onde $a$ e $k$ são constantes. Isso significa que $y$ varia exponencialmente em relação a $x$; grosseiramente, se $x$ dobra de tamanho, $y$ quadruplica. No caso das redes livres de escala, a relação é negativa, em que muitos nós possuem poucas conexões e poucos nós possuem muitas conexões. Esse comportamento da lei de potência é exemplificado graficamente na Figura~\ref{fig:exemplo-lei-potencia}, com $k = -2$.

\begin{figure}[ht]
    \centering
    \subfloat[][escala regular] {
        \includegraphics[scale=0.4]{power-law-example-1.png}
    }
    \subfloat[][escala logarítmica] {
        \includegraphics[scale=0.4]{power-law-example-2.png}
    }    
    \caption{Exemplo de lei de potência com $k = -2$}
    \label{fig:exemplo-lei-potencia}
    \source{Elaboração do autor}
\end{figure}

Em seu artigo, \citeonline{Barabasi1999-sn} propõem que a distribuição de probabilidade de grau, ou seja, a probabilidade de existir na rede um nó com $k$ conexões, segue aproximadamente a lei de potência $p(k) \sim k^{-\gamma} $, onde $2 \le \gamma \le 3$ em redes reais.

\begin{figure}[ht]
    \centering
    \subfloat[][escala regular] {
        \includegraphics[scale=0.4]{scale-free-example-1.png}
    }
    \subfloat[][escala logarítmica] {
        \includegraphics[scale=0.4]{scale-free-example-2.png}
    }    
    \caption{Distribuição de probabilidade de grau $p(k) \sim k^{-\gamma}$ com $2 \le \gamma \le 3$}
    \label{fig:exemplo-livre-escala}
    \source{Elaboração do autor}
\end{figure}

Em termos práticos, as redes livres de escala possuem uma grande quantidade de nós de pouco grau e alguns nós com grau exponencialmente altos, os \textit{hubs}. Essa topologia possui importantes aplicações em diversas áreas, por exemplo, em uma rede de comunicações, a falha de nós aleatórios causa pouco dano a rede, pois há uma chance maior de que a falha aconteça em nós com poucas conexões. Por outro lado, ataques direcionados aos \textit{hubs} de comunicação podem derrubá-la, pois o número de nós é relativamente pequeno em comparação ao tamanho da rede e suas conexões atingem uma grande quantidade de nós. Outro exemplo está na dispersão de doenças contagiosas, em redes com a presença de \textit{hubs}, como os aeroportos em uma rede de transporte, a tendência é que eles conectem uma grande quantidade de grupos e acelerarem a dispersão por toda a rede.

Redes puramente aleatórias, como as que seguem o modelo de Erdős-Rényi, não são capazes de criar essa topologia. Barabási propõe que essas redes surgem devido a dois processos distintos: \textit{crescimento} e \textit{conexão preferencial}.

O \textit{crescimento} significa que redes reais não surgem com um número fixo de nós e adicionam conexões entre si, mas que a rede começa com poucos de ambos e novos são adicionados com o passar do tempo. É possível observar isso no crescimento da redes de comunicação, energia, transporte e em redes de interação de proteínas.

Nos exemplos acima nota-se que o tempo de crescimento não é um fator relevante, mas sim que haja crescimento. Em 1991 a WWW possuía apenas uma página, enquanto hoje estima-se que ela possua mais de um trilhão delas \cite{Barabasi2016-rn}. Por outro lado, a rede de interação de proteínas tem pouco mais de 20.000 nós e levou 4 bilhões de anos para ser construída.

O segundo processo que leva a criação de redes livres de escala é a \textit{conexão preferencial}. Esse processo diz que, ao ser incorporado em uma rede, um nó prefere se conectar a outros que já possuam muitas conexões, em um fenômeno também conhecido como \enquote{o rico fica mais rico}. Os exemplos variam desde um novo aluno na sala de aula, que tem maior chance de conhecer alunos que já são populares, até a própria WWW, autores de páginas novas criam \textit{links} para outras já bem conhecidas.

\citeonline[pág. 191]{Barabasi2016-rn} argumentam que ambos os processos são \textit{suficientes} e \textit{necessários} para a criação de redes livres de escala, ou seja, não apenas que a presença de ambos é capaz de gerar redes livres de escala, como não é possível gerá-las sem que ambos os processos estejam envolvidos, ao menos implicitamente.

De posse desses argumentos, é possível prever aproximadamente a topologia esperada de uma rede livre de escala medindo-se taxas de incorporação de novos nós na rede, bem como sua conexão preferencial.

Em redes reais, no entanto, novos nós surgem e desaparecem, e alguns nós têm conexão preferencial maior do que outros não somente por conta de seu número de conexões. O modelo de Bianconi-Barabási considera conexões preferenciais variadas para os nós e o modelo é capaz de explicar como alguns novos nós rapidamente se tornam \textit{hubs}, ultrapassando \textit{hubs} antigos.

\citeonline{Barabasi2016-rn} também propõem modelos para os efeitos de remoção de nós, envelhecimento, criação de conexões entre nós já existentes e crescimento acelerado.\todo{Fiquei meio na dúvida aqui, não quero explicar todos eles (pois não vou usá-los), mas gostaria de dizer que eles existem. Expando isso um pouco ou removo?}

Quanto à distância geodésica média $\avg{d}^\textit{ba}$ e o coeficiente de agrupamento $\avg{C}^\textit{ba}$, o modelo de Barabási-Albert prevê:

\noindent
\begin{tabularx}{\linewidth}{@{}XX@{}}
    \begin{equation} \label{eq:distancia-barabasi-albert}
    \avg{d}^\textit{ba} \sim \frac{\ln N}{\ln \ln N}
    \end{equation} &
    \begin{equation} \label{eq:coef-agrupamento-barabasi-albert}
    \avg{C}^\textit{ba} \sim \frac{(\ln N)^2}{N}
    \end{equation}
\end{tabularx}

Onde $N$ é o número de nós. É possível observar que a distância permanece similar ao modelo de Erdős-Rényi (Equação~\ref{eq:distancia-erdos}), porém o coeficiente de agrupamento tende a diminuir com o crescimento da rede, diferentemente do modelo de Watts-Strogatz que se assemelha ao coeficiente de um reticulado (Equação~\ref{eq:coef-agrupamento-reticulado}).

\todo[inline]{Explicar pq recebe o nome de livre de escala}

\section{O MAPA DE CARREIRAS}

\subsection{Introdução}

O Mapa de Carreiras (MCar) traz o resumo da trajetória profissional de cerca de 10 milhões de pessoas e uma de suas manifestações pode ser vista no site \url{http://www.vagas.com.br/mapa-de-carreiras} (Figura~\ref{fig:exemplo-grafo}). Internamente, essas informações estão armazenadas em um grafo e são periodicamente atualizadas. Nesse grafo, os vértices representam \textit{ocupações} e as arestas representam as \textit{movimentações} dos profissionais entre ocupações.

\begin{figure}[ht]
  \centering
  \includegraphics[scale=0.8, frame]{mapa-enfermeira-assistencial.png}
  \caption{Recorte parcial do MCar focando uma ocupação.}
  \source{Mapa de Carreiras}
  \label{fig:exemplo-grafo}
\end{figure}

% TODOS OS EXMPLOS DEVERIAM SER DA ÁREA QUE VAMOS ABORDAR, OU SEJA, TI. ISSO TRAZ MAIS DIDÁTICA E FOCO AO DOCUMENTO.

No contexto do Mapa de Carreiras, uma \textit{ocupação} significa uma atividade profissional, remunerada ou não. A maior parte dessas ocupações são profissões remuneradas, tais como \enquote{Babá} ou \enquote{Arquiteto}. Entretanto, algumas delas aparecem como atividade principal de uma pessoa, mas não são necessariamente uma profissão, tais como \enquote{Mestrando}, \enquote{Enfermeiranda} ou \enquote{Voluntário}. Os vértices possuem diversos atributos que são resumos estatísticos daquela ocupação, tais como a distribuição salarial, a distribuição do tempo de permanência em uma ocupação, entre outras.

% ENTÃO UM VÉRTICE NA VERDADE SERÁ UM VETOR DE CARACTERÍSTICAS COM ESSAS INFORMAÇÕES. PRECISAMOS DEFINIR EXATAMENTE QUAIS CARACTERÍSTICAS COMPORÃO O VETOR DE CARACTERÍSTICAS DOS VÉRTICES. Ronie: Coloco isso dentro da Metodologia?
% COLOQUE A DESCRIÇÃO (VETOR DE CARACTERÍSTICAS) DO VÉRTICE AQUI MESMO.

As arestas que conectam as ocupações representam \textit{movimentações} entre elas, ou seja, o fluxo de pessoas que exercia uma certa ocupação e passou a exercer outra. Acompanhar as arestas permite observar o movimento dos profissionais em suas carreiras. O peso das arestas é o número de profissionais que fizeram a trajetória de uma ocupação para outra. A Figura~\ref{fig:exemplo-medico-do-trabalho} exibe as arestas a partir da ocupação \enquote{Médico do Trabalho}, como exibidas pelo site do Mapa da Carreiras.

\begin{figure}[ht]
  \centering
  \includegraphics[scale=0.25]{mapa-medico-do-trabalho.png}
  \caption{Ocupações diretamente relacionadas a Médico do Trabalho}
  \source{Mapa de Carreiras}
  \label{fig:exemplo-medico-do-trabalho}
\end{figure}

% TODOS OS EXMPLOS DEVERIAM SER DA ÁREA QUE VAMOS ABORDAR, OU SEJA, TI. ISSO TRAZ MAIS DIDÁTICA E FOCO AO DOCUMENTO.

É importante esclarecer que a visualização observada no site do Mapa da Carreiras foi construída para permitir uma navegação simplificada para o usuário. Para essa pesquisa, os dados utilizados são os mesmos, mas em formatos mais adequados ao projeto. Por exemplo, o equivalente da Figura~\ref{fig:exemplo-medico-do-trabalho} utilizada para análise exploratória pode ser vista na Figura~\ref{fig:grafo-medico-do-trabalho}. Nela, é possível observar ocupações que não estão diretamente relacionadas a \enquote{Médico do Trabalho}, mas que estão no mesmo agrupamento, como \enquote{Médico Plantonista}.

\begin{figure}[ht]
  \centering
  \includegraphics[scale=0.6]{cluster_24.pdf}
  \caption{Subgrafo ao redor de Médico do Trabalho.}
  \source{Elaboração do autor}
  \label{fig:grafo-medico-do-trabalho}
\end{figure}

O grafo do MCar é direcionado e, portanto, o fluxo de profissionais entre ocupações possui uma direção específica, mas é comum que existam movimentações em ambos os sentidos entre duas ocupações. Esse movimento é representado por duas arestas diferentes, mesmo que no site ela seja representada por uma única aresta. Em outras palavras, o MCar é um grafo direcionado, ponderado e com ciclos, porém sem laços.

Por conta dos ciclos, não é possível criar uma ordenação topológica que represente uma clara progressão de carreira para o grafo como um todo. Entretanto, é possível extrair grupos de ocupações que possuem movimentações mais frequentes entre si. Esses agrupamentos são comumente acíclicos, o que possibilita traçar essa progressão entre as ocupações que o compõem. Analisando-se os dados, é possível observar que essa característica é mais frequente em grupos formados por ocupações que requerem maior qualificação técnica, como \enquote{Comércio Exterior} ou \enquote{Médico do Trabalho}, como exibido na Figura~\ref{fig:grafo-medico-do-trabalho}. Já nas ocupações ditas \enquote{operacionais}, o fluxo de movimentação entre ocupações acentua a característica cíclica do grafo. Particularmente, é possível observar um forte ciclo entre as ocupações \enquote{Recepcionista}, \enquote{Vendedor} e \enquote{Auxiliar Administrativo}, como mostrado na Figura~\ref{fig:grafo-ciclo-operacional}.

\begin{figure}[ht]
  \centering
  \includegraphics[scale=0.8]{ciclo-operacional.pdf}
  \caption{Ciclo entre Ocupações}
  \source{Elaboração do autor}
  \label{fig:grafo-ciclo-operacional}
\end{figure}

Para a construção dos vértices, os textos presentes nos títulos dos históricos profissionais dos currículos foram \enquote{normalizados}. Nesse contexto, \enquote{normalização} significa transformar os títulos com o mesmo significado na mesma representação textual. Por exemplo, a mesma ocupação pode ter sido registrada por pessoas diferentes como \enquote{Moto Boy}, \enquote{moto boy}, \enquote{Motoboy}, \enquote{Moto Girl} entre outras variações. O que chamamos de \enquote{normalização} é o trabalho de transformar essas diferentes grafias em uma única classe que possa ser usada para identificação da ocupação. No caso, todas as anteriores são normalizadas para \enquote{motoboy}. Esse trabalho também inclui a correção ortográfica e a remoção de abreviação das ocupações.

Após a normalização são criados pares de ocupações cronologicamente ordenados. Isso significa que o término de uma ocupação precisa coincidir com o início da seguinte. Uma margem de dois meses de tolerância na sobreposição corrige pequenas imprecisões na anotação dos históricos profissionais. Currículos com apenas uma ocupação são descartados, bem como ocupações que se sobreponham cronologicamente ou que estejam separadas por um intervalo de tempo maior que um ano.

Os pares de ocupações são unificados produzindo as arestas e os vértices, e as arestas menos relevantes do grafo, ou seja, aquelas com menos de dez movimentações, são podadas. Esse critério de poda foi definido empiricamente através de análise por amostragem. Números muito maiores removem vértices de ocupações mais especializadas como \enquote{Comandante} ou \enquote{Engenheiro de Minas}, enquanto números muito menores acrescentam vértices espúrios causados por erros de grafia que a fase de correção ortográfica foi incapaz de detectar.

Um dos efeitos indesejados desse processo é que algumas ocupações legítimas são removidas do grafo. É o caso de ocupações muito recentes, muito especializadas, ou que ainda não possuem uma concordância da nomenclatura entre os profissionais da área. Como exemplo podemos citar \enquote{Especialista em Experiência do Usuário}, uma profissão recente, que também é chamada \enquote{Analista de UX} ou apenas \enquote{UX}.

% NÃO DEVERÍAMOS CRIAR UM DICIONÁRIO DE EQUIVALÊNCIA DE NOMENCLATURA E SUBTITUIR AS MÚLTIPLAS NOMENCLATURAS POR UMA PADRÃO?
% Ronie: Dá até para fazer manualmente, mas resisto a isso. O motivo pode ser exemplificado pelas ocupações "Analista de Inteligência de Negócios"  e "Analista de BI (Business Intelligence)", apenas o termo traduzido ou um estrangeirismo, entretanto analisando a nuvem de palavras é possível ver que são funções bem diferentes. E olha que é da nossa área e deveríamos saber disso >_<
% Links abaixo:
% http://www.vagas.com.br/mapa-de-carreiras/cargos/analista-de-bi/0
% http://www.vagas.com.br/mapa-de-carreiras/cargos/analista-de-inteligencia-de-negocios/0

Duas outras limitações no grafo ocorrem por conta da experiência profissional ser um campo de texto livre, ou seja, o usuário digita livremente sua ocupação sem estar restrito a uma lista de opções. A primeira se refere a ocupações que foram digitadas para representar uma ocupação dupla, como \enquote{Caixa e Balconista} ou \enquote{Atendente/Estoquista}. A segunda ocorre por ambiguidade no nome da ocupação, como \enquote{Coordenador de Projetos}, que ocorre na carreira de Desenvolvimento de Software e na de Engenharia Civil.

Por outro lado, o campo de texto livre permite a captura de ocupações que pouco provavelmente apareceriam em uma lista curada, como \enquote{IRLA} (Instalador Reparador de Linhas Aéreas) ou \enquote{Rigger} (pessoa no solo que orienta o posicionamento de carga para o operador de guindaste).

Ao final do processo o grafo possui cerca de 8.348 ocupações distintas e 14.031 arestas. Esses números flutuam dependendo das atualizações dos currículos em que são baseados e no crescimento natural do banco de dados. Os dados utilizados nesse trabalho refletem a base atualizada em Fevereiro de 2017.
%% COLOQUE O DIA EXATO DE CAPTURA DOS DADOS, OK?

\subsection{O Processo de Construção do Mapa de Carreiras} \label{sec:construcao}

O Mapa de Carreiras é construído a partir dos currículos de um banco relacional condensando seus dados para formar um grafo de movimentação de pessoas entre as ocupações. A construção do MCar é feita em uma estrutura de \textit{pipeline} em que cada componente trabalha os dados e passa o resultado para o componente seguinte, a Figura~\ref{fig:montagem-do-grafo} mostra esquematicamente o processo. Nessa seção, cada um deles é explicado em detalhes.
%% AQUI NA INTRODUÇÃO SUGIRO COLOCAR UM FLUXOGRAMA COM OS BLOCOS DE CONSTRUÇÃO DO MCAR. NA LINHA ABAIXO MENCIONE QUE CADA SEÇÃO VAI DESCREVER UM BLOCO DO PROCESSO.
% Ronie (2017-06-18) A imagem está um pouco mais abaixo, nesse momento me limitei a colocar apenas uma referência para ela :) Acho que depois podemos ajustar o texto.


\subsubsection{Os Dados}

Os dados fonte para essa pesquisa são currículos anonimizados de usuários do site de carreiras VAGAS.com.br. Esses currículos são armazenados em um banco de dados \textit{Microsoft SQL Server}. No total há cerca de 10 milhões de currículos~\todo{Colocar número exato} armazenados entre 1999 e 2017, mas para esse trabalho apenas os currículos atualizados entre Fevereiro de 2012 e Fevereiro de 2017 são utilizados~\todo{Colocar número exato}.

% FALE AGORA DOS CVS DA ÁREA DE TECNOLOGIA. QUANTOS SÃO? QUANTAS E QUAIS SÃO AS CARREIRAS (A LISTAGEM DAS CARREIRAS PODE VIR COMO UM APÊNDICE)
% Ronie: Focamos ainda na área de tecnologia? Acredito que poderíamos focá-la nos exemplos de carreiras maiores (como análise das redes livre de escala e mundo pequeno) que não são boas com carreiras muito pequenas como as que usei acima para exemplificar alguns grafos. Que acha?
% CONTINUO SUGERINDO PELO MENOS COMEÇARMOS COM A ÁREA DE TECNOLOGIA E, SE FOR O CASO, AMPLIAMOS DEPOIS.

Para as análises a serem explicadas nesse capítulo, os dados são primeiramente extraídos para arquivos texto e só então processados. Existem dois formatos usados nesse trabalho. O primeiro formato é descrito por \citeonline{Van_Dongen2008-kx} como \enquote{formato ABC}. Cada linha representa uma aresta, e cada aresta possui três campos separados por um ou mais espaços. Em um grafo direcionado, o primeiro campo é a aresta de partida, o segundo é a aresta de chegada e o campo final representa o peso da aresta. No caso do MCar, o peso representa o número de pessoas que se movimentou de uma ocupação à outra. Esse formato é usado na separação de carreiras através da \textit{clusterização} do grafo usando o \textit{Markov Clustering Algorithm} (MCL)~\cite{Van_Dongen2000-qm} e na montagem de visualizações exploratórias usando o programa \enquote{Graphviz}~\cite{Gansner2000-oo}.

\vspace{\abovedisplayskip}

\noindent
\begin{minipage}{\linewidth}
\begin{lstlisting}[frame=single,caption=Arquivo em Formato ABC,label=lst:formato-abc,captionpos=b]
medico-examinador medico-do-trabalho 23
medico-do-trabalho coordenador-medico 10
medico-do-trabalho medico-do-trabalho-coordenador 37
medico medico-plantonista 10
medico medico-examinador 11
medico medico-do-trabalho 23
\end{lstlisting}
\end{minipage}

O segundo formato é uma lista de registros onde cada um ocupa uma única linha. Cada registro é codificado como um \textit{array} de atributos no formato JSON (\textit{Javascript Object Notation}). Esse formato é usado em várias etapas da montagem do MCar e seu conteúdo varia de etapa para etapa. Os campos relevantes são descritos nas respectivas seções a seguir.

\subsubsection{O Processamento da Informação}

O volume de dados e a variedade de análises desse trabalho impõe algumas restrições de ordem prática. O volume de dados é grande o suficiente para exceder a memória de um computador convencional, algumas das ferramentas utilizadas não se comunicam com outras exceto através de arquivos texto e o tempo para processamento facilmente excede alguns dias se os processadores não forem adequadamente utilizados.

Essas restrições e a necessidade de atualizar continuamente os dados do MCar levaram a implementação de um sistema que executasse todos os passos para sua montagem de maneira automática.

A informação é processada em uma série de etapas consecutivas usando um padrão arquitetural conhecido como \textit{Dataflow}~\cite{Carkci2014-jk, Hohpe2003-nj}, especificamente o modelo conhecido como \textit{Pipes and Filters} ou \textit{Pipeline}. Nesse padrão, os dados fluem continuamente de um processo para o outro, sendo transformados e filtrados conforme o processo avança. 

Em uma estrutura de \textit{pipeline}, com exceção de alguns componentes especiais, cada processo possui apenas uma interface de entrada e uma interface de saída. Desde que mantenha a mesma interface, um processo pode ser substituído por outro, ou por um conjunto deles, sem afetar outras partes do sistema.

Essa arquitetura foi implementada em máquinas \textit{Linux} utilizando \textit{pipes} e \textit{sockets} para comunicação interprocessos. Um \textit{pipe} no \textit{Linux} é uma implementação de FIFO em memória RAM. A interface para \textit{push} na fila é idêntica a gravação de uma linha de texto em um arquivo. Do outro lado um outro processo lê a fila com a mesma interface de leitura de um arquivo linha a linha. Por usar interfaces compatíveis que leituras e gravações em arquivo, qualquer programa capaz de executar essas operações pode ser usado como parte do \textit{pipeline}. Isso resolve o problema do uso de ferramentas díspares, desde que sejam capazes de gravar e ler em arquivos texto, são capazes de se integrar ao processo como um todo.

Enquanto \textit{pipes} permitem a comunicação interprocessos na mesma máquina, \textit{sockets} podem ser usados para comunicação entre computadores através de uma interface padronizada. Ao invés dos \textit{sockets} nativos do \textit{Linux}, optou-se pelo \textit{ZeroMQ} que é uma implementação mais robusta, criada para transmitir dados usando diversos modelos de distribuição~\cite{Hintjens2013-tz}.

O \textit{ZeroMQ} possui interfaces para diversas linguagens de programação, mas para preservar a interface entre processos foram criados componentes que traduzem a entrada em \textit{pipes} para \textit{sockets ZeroMQ} e vice-versa. Em termos práticos, a comunicação entre processos pode ser feita entre processos da mesma máquina ou entre diferentes computadores de maneira transparente.

A maior parte dos processos foi implementada usando a linguagem Ruby, mas alguns processos foram implementados usando Python ou programas específicos, como o MCL para \textit{clusterização} e o Graphviz para posicionamento do grafo em um plano bidimensional.

O processo de montagem do grafo está resumido no fluxo apresentado na Figura~\ref{fig:montagem-do-grafo}.

\begin{figure}[ht]
  \centering
  \includegraphics[scale=0.4]{pipeline1.pdf}
  \caption{Montagem do Grafo}
  \label{fig:montagem-do-grafo}
\end{figure}

\subsubsection{Extração das Experiências Profissionais} \label{sec:extracao-experiencia}

O primeiro processo do \textit{pipeline} extrai os registros do banco de dados relacional e os grava em arquivos texto. O processo não extrai currículos, mas sim experiências profissionais. Cada registro representa uma única experiência.

Os dados extraídos são:

\begin{description}

  \item[Identificador do Currículo] é um número único para cada currículo dentro do banco de dados. Ele é usado posteriormente para agrupar as experiências profissionais por pessoa.

  \item[Nome da Ocupação] é o texto digitado livremente pelo usuário no campo nomeado \enquote{Cargo} no currículo. Esse texto dá origem aos nomes das ocupações usadas no Mapa de Carreiras.

  \item[Data de Início] e \textbf{Data de Término} marcam quando o profissional iniciou naquela ocupação e até quando a exerceu. Se é a ocupação atual, não existe uma data de término. Esses campos são usados para determinar a sequência de experiências profissionais que formarão as arestas do grafo.

  \item[Texto Descritivo] é o texto digitado livremente pelo usuário no campo com o nome \enquote{Descrição} no currículo. Esse campo é usado para criar uma nuvem de palavras-chave sobre a ocupação.

\end{description}

\subsubsection{Normalização de Ocupações} \label{sec:normalizacao}

Nessa etapa, o nome da ocupação é normalizado para uma classe de maneira que todas as grafias significando a mesma ocupação sejam transformadas em uma mesma classe. Nessa pesquisa a classe é chamada \enquote{classe equivalente} ou \enquote{ocupação normalizada}.

Para transformar o texto digitado em uma ocupação normalizada os erros de digitação são corrigidos, pontuações são removidas, abreviaturas frequentes são expandidas, o texto é colocado em minúsculas, é feita a singularização das palavras que compõem a ocupação e os nomes são masculinizados (\enquote{secretária} se transforma em \enquote{secretário}, por exemplo).

Ocupações com múltiplas palavras também são ordenadas alfabeticamente. Dessa forma, ocupações como \enquote{Auxiliar Financeiro-Administrativo} e \enquote{Auxiliar Administrativo-Financeiro} resultam na classe \enquote{administrativo auxiliar financeiro}.

As classes resultantes lembram vagamente o termo original, como no exemplo acima. No processo descrito na Seção~\ref{sec:criar-dicionario}, é criado um dicionário entre a classe equivalente e um nome que tenha significado para o usuário.

\subsubsection{Remoção de Ocupações Incorretas} \label{sec:remocao-ocupacoes-incorretas}

Mesmo após a remoção de casos únicos, alguns nomes presentes nesse campo podem não ser considerados ocupações. São erros comuns que a etapa de normalização não é capaz de corrigir ou representam um entendimento equivocado por parte do usuário.

Casos emblemáticos são os textos \enquote{sim}, \enquote{não} ou \enquote{o mesmo} encontrados no campo destinado ao nome da ocupação. A remoção desses casos precisou ser feita manualmente, ou seja, especialistas da empresa revisaram a lista de ocupações e criaram um dicionário com os erros mais comuns utilizados nessa etapa do processo. Esse dicionário foi aprimorado com sugestões dos usuários após a publicação do MCar.

\subsubsection{Agrupamento de Ocupações por Currículo}

As ocupações são agrupadas por currículo, formando uma sequência cronológica das experiências de um profissional. Até essa etapa, há uma experiência profissional por registro, após ela, cada registro contém uma sequência de experiências profissionais do mesmo indivíduo, ordenadas cronologicamente.

% Inserir um diagrama com os campos. Ronie 2017-04-30

\subsubsection{Remoção de Experiências sem Conexão ou Sobrepostas}

Como o objetivo final é criar um grafo que sumarize o \textit{movimento} de pessoas entre ocupações, as experiências profissionais que não se conectam cronologicamente com nenhuma outra são removidas. São consideradas desconexas quaisquer experiências em sequência cujo início da posterior esteja a mais do dois meses de distância do fim da anterior.

% Inserir um gráfico explicativo. Ronie 2017-02-30

Na mesma etapa, removem-se experiências profissionais que se sobreponham. Uma vez sobrepostas, não é possível afirmar que uma é sequência natural da outra ou que sequer tenham relação entre si. É comum encontrar no banco de dados carreiras paralelas em que gestores também são professores ou técnicos que também sejam voluntários. Da mesma maneira que experiências desconexas, as que se sobrepõem por mais de dois meses são removidas.

\subsubsection{Remoção de Currículos sem Experiência}

Após o processo anterior, são removidos os registros que possuam apenas uma ou nenhuma experiência profissional.

\subsubsection{Geração de Pares de Experiências}

As experiências profissionais de cada currículo são pareadas por ordem cronológica. Por exemplo, um currículo que tenha a seguinte sequência de ocupações \enquote{Faxineiro \textrightarrow~Copeiro \textrightarrow~Chapeiro}, produz os pares \enquote{Faxineiro \textrightarrow~Copeiro} e \enquote{Copeiro \textrightarrow~Chapeiro}.

Antes desse processo, cada registro é uma sequência de experiências profissionais. O processo expande cada registro em múltiplos registros, cada um representando um par de experiências profissionais de um único indivíduo.

\subsubsection{Agrupamento de Pares de Ocupações}

Pares iguais de ocupações são agrupados e contados, gerando um \textit{multiset}, ou seja, um conjunto com o número de repetições de cada elemento. O número de repetições em um par representa o número de pessoas que se movimentaram de uma ocupação para outra.

As etapas posteriores podam o grafo em suas arestas menos relevantes e transformam sua representação textual para que possa ser lido por outros programas.

\subsubsection{Remoção de Pares Pouco Frequentes} \label{sec:grafo-final}

A maioria dos pares de ocupações ocorrem pouquíssimas vezes. \todo{Em um conjunto com XX pares, cerca de XX ocorrem apenas uma vez.} Esse pequeno número de repetições é causado tanto por trajetórias incomuns, quanto por erros de digitação que as etapas anteriores não foram capazes de eliminar. Por vezes são apenas ocupações similares a outras, mas onde os usuários escrevem de maneira pouco convencional. Com alguma frequência, os pares realmente representam trajetórias em carreiras extremamente específicas.

Para encontrar um número de corte foi feita uma avaliação manual por amostragem. Amostras com algumas centenas de pares com números de corte entre 1 e 30 foram analisadas por especialistas da empresa junto com o pesquisador. O objetivo foi encontrar um número que não fosse conservador demais, removendo trajetórias válidas, nem liberal demais, permitindo trajetórias com erro.

Após o processo de análise, chegou-se a um número próximo a 10 repetições. Pares de ocupações com menos de 10 repetições são removidos.

A partir desse ponto, os dados para a montagem do grafo estão prontos em formato texto.

\subsubsection{Posicionamento dos Vértices do Grafo}

Para que o grafo possa ser exibido bidimensionalmente, é preciso que seus vértices sejam posicionados de modo a evitar a sobreposição e que os vértices relacionados por arestas de maior peso estejam mais próximos.

O algoritmo de \textit{Force-Directed} é usado para posicioná-los corretamente. Esse algoritmo é aplicado nesse passo utilizando o programa Graphviz. A saída do Graphviz é um arquivo texto com a posição X e Y do vértice em um plano cartesiano.

\subsubsection{Identificação de Carreiras}

%% O QUE É UMA PROTO-CARREIRA?

% Me parece que "proto-carreiras" não é um nome lá muito bom, mas foi o que consegui por enquanto =/ Ronie 2017-04-29
% Aqui também tem uma dose não saudável de especulação baseado no tempo que fiquei olhando para esse grafo. Pode ser o caso de colocar números em tudo (gosto disso), ou eliminar boa parte do texto. Ronie 2017-04-30

O grafo gerado no Passo~\ref{sec:grafo-final} é usado nesse processo para gerar agrupamentos. Entre duas ocupações o maior fluxo de movimentações indica uma certa preferência por uma das duas. Por exemplo, se o número de movimentações entre \enquote{Analista de Sistemas \textrightarrow~Coordenador de Projeto} for maior que o reverso \enquote{Coordenador de Projeto \textrightarrow~Analista da Sistemas}, considera-se que \enquote{Coordenador de Projeto} é uma ocupação que sucede \enquote{Analista de Sistemas}. Algumas vezes o fluxo entre as ocupações é tão similar que não é possível dizer que há uma ordem de sucessão, como no caso apresentado no ciclo de ocupações operacionais na Figura~\ref{fig:grafo-ciclo-operacional}; em outros, o sentido contrário possui um fluxo várias vezes menor ou não há fluxo contrário, como o caso do grafo sobre \enquote{Médico do Trabalho} na Figura~\ref{fig:grafo-medico-do-trabalho}.

\todo[inline]{Ronie: estou pensando que a seção abaixo pode ser movida para \enquote{conclusões} ou mais para frente, que acha?}

Quando o fluxo de pessoas de uma ocupação para outra é relevante, é possível notar que essa ordem de preferência vai normalmente de ocupações mais operacionais e com salários mais baixos para ocupações mais gerenciais e com salários mais altos. Isso coincide com a senso comum de progressão de carreira.

A grosso modo, o agrupamento e o fluxo de migração das ocupações revela o que se pode considerar um \enquote{protótipo de carreira}. Ou seja, um esboço onde um indivíduo em uma ocupação dentro desse grupo tem uma probabilidade maior de se manter nele e de se movimentar para ocupações no topo do grupo.

Existe, no entanto, um grupo que não obedece às características descritas acima. Ao se tentar ordená-lo topologicamente, não há uma ordem de preferência clara entre as ocupações, o que indica que não há uma noção de sucessão como em outros grupos, como exemplificado anteriormente na Figura~\ref{fig:grafo-ciclo-operacional}. Ele também possui algumas ocupações que conectam uma grande quantidade de outras ocupações, como \enquote{Auxiliar Administrativo}.\todo{, que possui movimentações com XX ocupações, cerca de XX\% das ocupações do MCar.}

Ao analisar o grupo, nota-se que a escolaridade mais frequente nessas ocupações é a de \enquote{segundo grau completo}, significando que essas ocupações não necessitam de treinamento especializado para serem desempenhadas, o que é um indício que esse grupo reflete a própria definição de \enquote{operacional}.

Algumas outras ocupações também possuem \enquote{segundo grau completo} como escolaridade mais frequente, mas se comportam como os grupos com uma direção clara de preferência entre as ocupações. Uma análise manual da descrição das suas ocupações e das palavras-chave relacionadas sugere que essas são ocupações \enquote{técnicas}. Ou seja, uma ocupação que requer um treinamento não-trivial, mas não tão exigente quanto uma graduação. Como exemplo, é possível observar a carreira de cozinheiro na Figura~\ref{fig:exemplo-grafo-cozinheiro}.

\begin{figure}[htb]
  \centering
  \includegraphics[scale=0.6]{subcluster_01_11.pdf}
  \caption{Carreira Técnica de Cozinheiro}
  \label{fig:exemplo-grafo-cozinheiro}
\end{figure}

%% O QUE DEFINE SEGUIR O CAMINHO "AGRUPAMENTO DE OCUPAÇÕES POR CURRÍCULO" OU "AGRUPAMENTO DE OCUPAÇÕES"?

\subsubsection{Agrupamento de Ocupações}

Esse processo agrupa os dados gerados pelo processo descrito na Seção \ref{sec:remocao-ocupacoes-incorretas} por ocupação. Cada ocupação normalizada agora possui uma lista com suas grafias originais, uma lista com as descrições daquela experiência profissional escrita por cada indivíduo, bem como a quantidade de ocupações agrupadas.

\subsubsection{Remoção de Ocupações com Pouca Frequência}

Mesmo com o processo de correção e normalização, algumas experiências profissionais são escritas de maneira única. Isso pode significar um erro, uma ocupação singular ou o uso de termos pouco convencionais. Como o objetivo da montagem do grafo é extrair as carreiras mais frequentes, os casos únicos podem ser seguramente removidos sem a necessidade de determinar sua causa.

\subsubsection{Criação de Dicionário para Exibição} \label{sec:criar-dicionario}

Os textos resultantes do processo de normalização descrito na Seção~\ref{sec:normalizacao} não são adequados para exibição. Esse processo contabiliza o número de grafias exatamente idênticas para cada ocupação normalizada e assume como \enquote{nome de exibição} a grafia mais frequente.

A limitação desse processo é que algumas ocupações são descritas no masculino ou no feminino dependendo do número de profissionais do gênero exercendo essa ocupação. Por exemplo, uma das ocupações de Direito é descrita como \enquote{Advogado} (no masculino) pois existem um pouco mais profissionais do gênero masculino exercendo a profissão, por outro lado, outra ocupação correlacionada é descrita como \enquote{Advogada Coordenadora} pelo motivo contrário.

Apesar da regra da língua portuguesa do uso do masculino quando há um grupo de gênero misto\todo{ref}, optou-se por não se modificar o gênero artificialmente, preservando a grafia da predominância do gênero na ocupação.

\subsubsection{Extração de Palavras-Chave}

As palavras-chave são extraídas a partir das descrições digitadas pelos usuários no campo \enquote{Experiência Profissional} dos currículos. O processo descrito abaixo tenta criar expressões significativas, ou seja, pequenas frases, que ajudem a descrever o cargo ao invés de apenas indicar as palavras mais comuns. Um fato notável é que não é possível utilizar \textit{stemming} ou correção ortográfica nesse processo, pois existe uma grande quantidade de jargões e siglas específicos nas descrições.

Para formar expressões, são gerados unigramas, bigramas e trigramas para as descrições de cada experiência profissional. A seguir, elas são ordenadas por TF-IDF e as palavras que aparecem repetidas em um n-grama de menor TF-IDF são removidas. Por exemplo, se a palavra \enquote{fiscal} aparece com maior TF-IDF que o bigrama \enquote{nota fiscal}, a palavra \enquote{fiscal} é removida da lista.

% Ronie: na prática, o resultado é muito bom, mas o algoritmo foi baseado no meu nariz =/ Então, talvez eu devesse refazer o processo com uma técnica de sumarização melhor.
\begin{comment}
\subsubsection{Gravação do Arquivo Final}

A definir\ldots
\end{comment}

\subsection{Atributos das Ocupações}

Complementar à montagem do grafo, os vértices com as ocupações são abastecidos com outras informações. São elas:

\begin{description}
  \item[Idade] computada para cada ocupação considerando a data de nascimento do profissional e a data de entrada na ocupação.
  \item[Salário] da ocupação atual corrigido pelo IPCA a partir da última data de atualização do currículo.
  \item[Tempo de Permanência na Ocupação] extraída a partir do número de meses consecutivos do indivíduo naquela experiência profissional.
  \item[Escolaridade] registrada no currículo com as opções 1º, 2º e 3º graus completos.
  \item[Curso de Graduação] registrada a partir de uma lista de cursos, essa informação é coletada apenas para escolaridade acima de 2º grau completo. A graduação é considerada apenas para as ocupações que ocorrem depois do término do curso.
  \item[Gênero] do profissional, apenas masculino ou feminino.
  \item[Número de Profissionais na Ocupação] é obtido contando as ocupações que não possuem data de término.
\end{description}

A idade, o salário e o tempo de permanência são sumarizados usando o \textit{resumo de cinco números}, com seus intervalos de confiança 95\% e uma \textit{estimativa de densidade de probabilidade}. Já a escolaridade, o curso de graduação e o gênero são simples contagens de frequência.

O \textit{resumo de cinco números} consiste no valor mínimo, 1º quartil, mediana, 3º quartil e valor máximo. Esse resumo é proposto por \citeonline{Hoaglin1983-aq} como estatística descritiva de uma amostra.

O intervalo de confiança 95\% para todos os valores do resumo de cinco números é obtido por \textit{bootstrap} com 10.000 iterações. A técnica permite identificar os valores mais confiáveis independentemente do tamanho da amostra e das distribuições.

A Tabela~\ref{tab:resumo-salario-programador} mostra os quartis e seus intervalos de confiança para a ocupação de \enquote{Programador}.

\begin{table}[htb]
    \centering
    \begin{tabular}{r|c|c|c}
        & \textbf{2,5\%} & \textbf{Estimativa} & \textbf{97,5\%} \\ \hline
        \textbf{1º Quartil} & 1672           & 1709                & 1751 \\ \hline
        \textbf{Mediana}    & 2354           & 2403                & 2476 \\ \hline
        \textbf{3º Quartil} & 3225           & 3294                & 3354 \\
    \end{tabular}
    \caption{Quartis para o salário de \enquote{Programador}}
    \label{tab:resumo-salario-programador}
\end{table}

\begin{comment}
A Tabela~\ref{tab:resumo-salario-programador} mostra o resumo e seus intervalos de confiança para a ocupação de \enquote{Programador}.

\begin{table}[htb]
\centering
\begin{tabular}{r|c|c|c}
                    & \textbf{2,5\%} & \textbf{Estimativa} & \textbf{97,5\%} \\ \hline
\textbf{Mínimo}     & [coletar]      & [coletar]           & [coletar] \\ \hline
\textbf{1º Quartil} & 1672           & 1709                & 1751 \\ \hline
\textbf{Mediana}    & 2354           & 2403                & 2476 \\ \hline
\textbf{3º Quartil} & 3225           & 3294                & 3354 \\ \hline
\textbf{Máximo}     & [coletar]      & [coletar]           & [coletar]    
\end{tabular}
\caption{Resumo de 5 números para salário de \enquote{Programador}}
\label{tab:resumo-salario-programador}
\end{table}
\end{comment}

A \textit{estimativa de densidade de probabilidade} é obtida por um Estimador de Densidade de Kernel usando um distribuição gaussiana como função kernel. A largura de banda escolhida para cada estimativa é o menor valor limite para que a distribuição se mantenha unimodal.

\section{UM ESTUDO ANALÍTICO DO MCar USANDO CIÊNCIA DE REDES: RESULTADOS PRELIMINARES}

A comparação de uma rede real com modelos nulos indica fenômenos que não acontecem por aleatoriedade. Essa aplicação é uma análise exploratória que levanta a questão de por que eles acontecem se o acaso não é uma explicação aceitável.

Ao se correlacionar as medidas usadas em Ciência de Redes cria-se mais um conjunto de questões sobre o significado da correlação. Algumas dessas correlações se destacam, pois ecoam com fenômenos conhecidos da movimentação de profissionais, fornecendo hipóteses plausíveis de seu funcionamento.

%% O QUE VOCÊ QUER DIZER COM "AO SE CORRELACIONAR...CRIA-SE MAIS UM CJTO DE QUESTÕES SOBRE O SIGNIFICADO DA CORRELAÇÃO"?

Um estudo confirmatório não é possível apenas com os dados apresentados aqui, pois eles requerem um aprofundamento em ciências sociais que foge da proposta dessa pesquisa. Entretanto, a análise estatística de um grande volume de dados fornece indícios que podem servir como motivadores para pesquisas mais ambiciosas ou podem ser usados como complemento em estudos sociais. Ainda assim, os achados nesse capítulo são plausíveis por construção já que são propostos baseados em medições sobre dados reais.

%% ESSE PARÁGRAFO ACIMA FICOU UM POUCO "ROLANDO LERO"
%% Ronie (2017-08-13) Acho que foi só diminuir o número de adjetivos :D Veja se ficou melhor :)

%% POR QUE NÃO TEMOS DADOS SUFICIENTES PARA VALIDAR, PELO MENOS NO CONTEXTO EM ESTUDO, AS HIPÓTESES COLOCADAS ACIMA.
%% ALÉM DISSO, SE SÃO HIPÓTESES EU SUGIRO QUE AS DESTAQUEMOS COMO TAL E NA PARTE EXPERIMENTAL A GENTE VÁ TENTANDO VALIDÁ-LAS. FIZ O EXERCÍCIO DE CRIAR AS HIPÓTESES ACIMA, VEJA O QUE ACHA. COMO ESSAS HIPÓTESES SE REFEREM AO MCAR, SUGIRO COLOCÁ-LAS EM UMA SEÇÃO SEPARADA E DEIXARMOS AQUI COMO UMA REVISÃO CONCEITUAL. ISSO AJUDA A COMPOR A PROPOSTA DE SUA DISSERTAÇÃO. MUITO INTERESSANTE!!! NA REALIDADE, SUA DISSERTAÇÃO É UMA ANÁLISE EXPLORATÓRIA SOBRE O MCAR E, PORTANTO, A MOVIMENTAÇÃO DE CARREIRA. NESSE SENTIDO, TODOS OS INSIGHTS DEVEM SER DESTACADOS COMO CONTRIBUIÇÃO AO INVÉS DE APARECEREM DILUÍDOS NUM CAPÍTULO DE REVISAO CONCEITUAL
% Ronie: Gostei MUITO! Acho que ficou muito mais claro e a separação faz bastante sentido. Fazemos um capítulo para isso ou colocamos junto com o desenvolvimento, tentando validá-la? 


As hipótese propostas são pontos de partida para diversas aplicações. Por exemplo, a criação de uma classificação de ocupações baseada em agrupamento. É esperado que ela retrate com mais precisão um conjunto de funções em que seus membros compartilham habilidades. Também é possível inferir capacitações através do histórico profissional e compreender com mais clareza a movimentação profissional.

Abaixo, as propostas são enumeradas e justificadas.

\begin{hypothesis}[Atração Profissional]
    A força de entrada do nó (Seção~\ref{sec:forca}) indica o quanto uma ocupação atrai profissionais. Nós de grande força de entrada funcionam como polos atratores de mão de obra, seja pela demanda, seja pela facilidade em exercer a ocupação ou seja por sua atratividade.
\end{hypothesis}

Algumas ocupações, como \enquote{Auxiliar Administrativo}, possuem um grande número de profissionais em seu fluxo de entrada comparativamente com outras ocupações próximas. Independentemente da motivação, um grande número de profissionais converge para elas.

\begin{hypothesis}[Correlação Negativa entre a Força de Entrada e a Mediana Salarial]
    Existe uma correlação negativa entre a força de entrada (Seção~\ref{sec:forca}) e a mediana salarial, ou seja, quanto maior a força de entrada, menor a mediana do salário.
\end{hypothesis}

\todo[inline]{Verificar e checar duplamente a correlação}

Essa correlação é consistente com o conceito de \textbf{mercado de trabalho} em que quanto maior a oferta de mão de obra, menor o salário pago. Entretanto, não é possível afirmar que existe um excesso de profissionais para uma certa ocupação, pois nesse trabalho não foi possível medir se a ocupação está \textit{saturada}.
%% NÃO VEJO COMO DEFINIR A SATURAÇÃO DE UMA OCUPAÇÃO, VOCÊ CONSEGUE DEFINIR ISSO?
Outra interpretação plausível é que essas ocupações possuem requisitos de entrada menos exigentes, tais como um baixo conhecimento técnico ou experiência. Isso significa um trabalho menos especializado com salários menores, porém, com baixa barreira de entrada.

%% MINHA LEITURA É UM POUCO DIFERENTE. COMO O GRAFO É CONSTRUÍDO A PARTIR DE DADOS REAIS, QUANTO MAIOR A FORÇA DE ENTRADA, MAIS PROFISSIONAIS CONVERGEM PARA ESSA PROFISSÃO E, NORMALMENTE, AS PROFISSÕES QUE POSSUEM MAIORES SALÁRIOS SÃO AQUELAS QUE TÊM MENOS PESSOAS, POIS ESTÃO MAIS NO TOPO DA PIRÂMIDE. PORTANTO, EU ENTENDO QUE A OFERTA DE MÃO DE OBRA É UM ELEMENTO IMPORTANTE, MAS TAMBÉM DEVEMOS CONSIDERAR AS HABILIDADES REQUERIDAS PARA A POSIÇÃO.
% Ronie: Sim, essa é uma discussão muito boa! Eu gostaria de me aprofundar mais nela se houver tempo hábil.
% Ronie (2017-06-18) Tentei passar sua interpretação para o texto, veja se é mais ou menos isso :)

\begin{comment}
É possível observar na lista XX que essas ocupações coincidem intuitivamente com as noções de \enquote{início de carreira} e \enquote{ocupação operacional}.
\end{comment}

\begin{hypothesis}[Pontos de Saída do Mercado de Trabalho]
    Se $\linkin{s}_i \gg \linkout{s}_i$ (Equações~\ref{eq:forca-entrada} e ~\ref{eq:forca-saida}), a movimentação não mapeada é insuficiente para explicar a diferença entre as forças, o que indica que os profissionais estão de fato se acumulando durante os anos, sugerindo que esse nó é um ponto de saída do mercado de trabalho.
\end{hypothesis}

Uma ocupação onde $\linkin{s}_i > \linkout{s}_i$ significa que há um acúmulo de profissionais nessa ocupação. Como no MCar as conexões com pouca movimentação foram removidas, se $\linkin{s}_i = \linkout{s}_i \pm \epsilon$, onde $\epsilon$ é próximo a 0, esse acúmulo pode significar que os profissionais se dispersam pelas conexões não mapeadas, mas esse número não é suficiente para explicar $\linkin{s}_i \gg \linkout{s}_i$.

\begin{hypothesis}[Pontos de Entrada do Mercado de Trabalho]
    De maneira análoga, as ocupações em que $\linkin{s}_i \ll \linkout{s}_i$ indicam ocupações que são entrada para o mercado de trabalho.
\end{hypothesis}

Ocupações somente com força de saída significam que os profissionais iniciam nessa ocupação ou é a primeira que consideram em seus currículos. Por outro lado, as que somente possuem força de entrada, são ocupações em que os profissionais não dão “sequência” a elas em seus currículos, possivelmente significando que será a ocupação atual ou onde ele pára de procurar outro trabalho.

Analisando como a força é distribuída entre entrada e saída, é possível observar que há um pico em algumas ocupações em que predomina a saída de profissionais, são provavelmente ocupações de ingressão no mercado de trabalho. Por outro lado, as ocupações que predominam a força de entrada são pontos de evasão ou “estagnação” do profissional.

A Distribuição de Probabilidade de Kernel da Figura~\ref{fig:ditribuicao-de-forca} mostra a concentração de ocupações de acordo com a força, o eixo $x$ possui a força relativa entre entrada e saída da ocupação. Zero significa que as forças são iguais, ou seja, saem tanto profissionais quanto entram; números negativos significam que saem mais profissionais do que entram, o número -1 significa que só existe força de saída; de maneira contrária, quanto mais positivo o valor, maior o número de profissionais entrando na ocupação em relação a profissionais saindo até que 1 significa que existe apenas força de entrada.

Em termos mais precisos, zero significa que a ocupação é perfeitamente recíproca, -1 ou 1 significam que são perfeitamente antirrecíprocas em um sentido ou outro.

\begin{figure}[htb]
    \centering
    \includegraphics[scale=0.8]{distribuicao-de-forca.png}
    \caption{Distribuição de Força entre Ocupações}
    \label{fig:ditribuicao-de-forca}
\end{figure}

Na Figura~\ref{fig:ditribuicao-de-forca} é possível observar três picos (modas), dois deles nos extremos de antirreciprocidade e um próximo ao ponto mais recíproco. Os dois vales os separam claramente e podem ser usados como divisores, pois é onde a distribuição muda sua forma.

A porção mais negativa soma 712 nós e forma uma lista de ocupações mais comuns para ingressão no mercado de trabalho.

A porção mais positiva soma 1.437 nós e forma uma lista das ocupações mais comuns para evasão ou estagnação.

Analisando a lista de ocupações por amostragem, a explicação acima parece plausível. Por outro lado, as ocupações com pouca força de saída não parecem corresponder à hipótese.

A Tabela~\ref{tab:ocupacoes-de-ingresso} possui uma amostra de ocupações próximas ao ponto de separação entre pico de saída e o segundo pico.

\begin{table}[!h]
    \centering
    \begin{tabular}{l|r|r|r|r}
        \hline
        Ocupação & Força & Entrada & Saída & Fluxo\\
        \hline
        administrativo aprendiz jovem tecnico & 123 & 10 & 113 & -0.84\\
        \hline
        atendimento cliente profissional & 163 & 14 & 149 & -0.83\\
        \hline
        maquina moco & 138 & 12 & 126 & -0.83\\
        \hline
        embalador repositor & 143 & 13 & 130 & -0.82\\
        \hline
        equipe treinador & 185 & 17 & 168 & -0.82\\
        \hline
        aprendiz jovem mecanico & 135 & 13 & 122 & -0.81\\
        \hline
    \end{tabular}
    \caption{Ocupações de Ingresso}
    \label{tab:ocupacoes-de-ingresso}
\end{table}

Uma amostra de ocupações próximas ao ponto de separação entre o segundo pico e o pico de entrada é exibida na Tabela~\ref{tab:ocupacoes-de-evasao}.

\begin{table}[!h]
    \centering
    \begin{tabular}{l|r|r|r|r}
        \hline
        Ocupação & Força & Entrada & Saída & Fluxo\\
        \hline
        analista desenvolvimento pesquisa & 111 & 101 & 10 & 0.82\\
        \hline
        analista gestao & 113 & 103 & 10 & 0.82\\
        \hline
        analista commerce & 126 & 115 & 11 & 0.83\\
        \hline
        coordenador unidade & 121 & 111 & 10 & 0.83\\
        \hline
        consultor investimento & 152 & 142 & 10 & 0.87\\
        \hline
        fonoaudiologo & 181 & 170 & 11 & 0.88\\
        \hline
    \end{tabular}
    \caption{Ocupações de Evasão ou Estagnação}
    \label{tab:ocupacoes-de-evasao}
\end{table}

%% PARA CADA UMA DAS HIPÓTESES VOCÊ DEVE ILUSTRAR COM UMA FIGURA

\begin{hypothesis}[Trabalho de Passagem]
    Uma ocupação com alta centralidade de intermediação (Seção~\ref{sec:intermediacao}) significa um \enquote{trabalho de passagem}, em que um grande fluxo de profissionais passa por ela a caminho de outros trabalhos.
\end{hypothesis}

A Figura~\ref{fig:carreira-topografia} ilustra o conceito na carreira de topografia, onde o nó em destaque representa a ocupação com maior centralidade de intermediação. Essas ocupações merecem atenção especial no planejamento de carreira, pois são um ponto de convergência para ocupações que levam a ela e são pontos de difusão para as que partem dela.

\begin{figure}[ht]
  \centering
  \includegraphics[scale=0.6]{cluster_25.pdf}
  \caption{Ilustração da centralidade de intermediação na carreira de topografia. O nó mais central é \enquote{topógrafo}.}
  \label{fig:carreira-topografia}
\end{figure}
%% NESSA FIGURA VOCÊ PRECISA MOSTRAR O VALOR DA CENTRALIDADE DE INTERMEDIAÇÃO DE CADA NÓ, ASSIM VOCÊ MOSTRA QUANTITATIVAMENTE A DIFERENÇA.
\begin{hypothesis}[Equivalência Profissional] \label{hip:equivalencia}
    Em uma análise local, se $\recout{w}_{ij}$ é próximo de zero, ou se $\recout{w}_{ij} \ll \recboth{w}_{ij}$, então não há um sentido de \enquote{progressão} entre uma ocupação e outra, ou seja, profissionais vão e vêm entre elas sem uma preferência óbvia no fluxo, indicando que são equivalentes em termos profissionais.
\end{hypothesis}

A reciprocidade (Seção~\ref{sec:reciprocidade}) nessa pesquisa tem relação direta com o movimento entre ocupações. O peso recíproco $\recboth{w}_{ij}$ entre duas ocupações, em comparação com o peso não recíproco $\recout{w}_{ij}$, permite a compreensão do fluxo de pessoas pela rede. Derivando-se um grafo composto apenas por $\recout{w}_{ij}$ é possível observar a tendência de movimentação entre ocupações, ou seja, quais delas estão acumulando ou diminuindo o número de profissionais com o tempo.

Ao se analisar a reciprocidade global $\weighted{\rho}$ em componentes do MCar extraídos por agrupamento, é possível observar características de reciprocidade bastante distintas. Enquanto alguns componentes possuem alta reciprocidade, outros são claramente anti-recíprocos, sugerindo que há um caminho claro para os profissionais que se encontram naquele grupo.

\begin{hypothesis}[Detecção de Nomenclatura Equivalente]
    Se dois nós possuem similaridade máxima $\linkboth{S}(i,j) = 1$, ou seja, possuem exatamente os mesmos vizinhos, mas não há conexão entre eles, então esses nós são potencialmente nomenclaturas diferentes para a mesma ocupação.
\end{hypothesis}

Se duas ocupações possuem as mesmas entradas e saídas, mas não se conectam entre si, é um indício que elas na verdade são nomes diferentes para a mesma função. Entretanto, outros casos são possíveis, como ocupações que são paralelas em termos de progressão de carreira, mas não executam o mesmo trabalho. Por outro lado, se outros dados além da estrutura também forem similares, como a nuvem de palavras, essas ocupações são potencialmente nomenclaturas diferentes para a mesma função.
%% NESTE MOMENTO ME OCORRERAM DUAS POSSIBILIDADES DE APRESENTAÇÃO DESTE CAPÍTULO: 1) APRESENTAR INICIALMENTE PARTES DO MCar NAS QUAIS APARECEM OS CASOS DISCUTIDOS NAS HIPÓTESES; OU 2) APÓS CADA HIPÓTESE APRESENTAR EXEMPLOS NO MCar QUE ILUSTRAM (VALIDAM) AS HIPÓTESES.

\begin{hypothesis}[Capacitação Parcial] \label{hip:capacitacao-suficiente}
    O fluxo entre duas ocupações significa que parte das habilidades necessárias para se exercer a ocupação posterior está presente, ao menos em parte, nos profissionais da ocupação anterior.\todo{Existe o modelo CHA (Competência, Habilidade, Atitude) que talvez possa ser usado para expandir isso, se for conveniente.}
\end{hypothesis}

Se há uma movimentação entre profissionais de uma ocupação $a$ para uma ocupação $b$, significa que os profissionais de $a$ possuem capacitação, ao menos parcial, para exercer $b$. Esse conceito pode ser expresso mais precisamente considerando $\capac(x)$ como o conjunto de \textit{capacidades} para se exercer uma ocupação $x$, essa hipótese implica que $\capac(a) \cap \capac(b)  \ne \emptyset$ a menos que $\capac(b) = \emptyset$.

Usando a carreira de topógrafo da Figura~\ref{fig:carreira-topografia} como exemplo, o \textit{Nivelador} possui um subconjunto das capacidades para exercer a função de \textit{Topógrafo}, esse subconjunto não deve ser vazio a menos que a ocupação de \textit{Topógrafo} não exija nenhuma capacitação.

\begin{hypothesis}[Identificação de Carreiras]
    Uma comunidade dentro do MCar significa que o fluxo de profissionais dentro desse grupo é maior do que com outros nós, indicando que é um conjunto de ocupações que pode ser exercido por profissionais com capacitações em comum (Hipótese~\ref{hip:capacitacao-suficiente}). Se a comunidade possui uma direção de fluxo óbvio entre as ocupações, isso indica progressão (Hipótese~\ref{hip:equivalencia}). Ambas as propriedades presentes caracterizam uma carreira.
\end{hypothesis}


\section{CRONOGRAMA}

Aqui apresentamos um panorama resumido de como o trabalho evoluiu até o momento e como é esperado seu desenvolvimento até sua entrega.

Os dados que são fonte para a pesquisa estão prontos e no formato adequado, nenhum processamento extra é necessário nesse ponto. A descrição de como ele é obtido está concluída, sendo necessário apenas ajustes para uma melhor compreensão do texto e detalhes menores na descrição da estrutura dos dados. Grande parte dos meses de Fevereiro e Março foram usados na elaboração do texto e aparecem no cronograma da Figura~\ref{fig:cronograma} descritos como \textit{Descrição da Fonte de Dados}.

Os conceitos de Ciência de Redes suficientes para esse trabalho já estão absorvidos e o referencial teórico está quase completamente escrito. Ainda falta uma elaboração melhor do texto para facilitar a compreensão dos algoritmos dos modelos nulos, mas é previsto que até o final de Junho esses ajustes estejam concluídos.

A metodologia da pesquisa também está definida e descrita no trabalho. Por outro lado, é provável que durante o início dos experimentos, mais material precise ser estudado e adicionado a ele, bem como ajustes na metodologia, mas espera-se que ao final de Agosto a pesquisa esteja consolidada o suficiente para que nenhuma nova adição seja necessária. São esperadas apenas alterações esporádicas no texto para refletir essa consolidação. No cronograma da Figura~\ref{fig:cronograma}, essas etapas estão descritas como \textit{Referencial Teórico} e \textit{Metodologia}.

A partir do final de Junho iniciam os experimentos. A maior parte dos modelos nulos e medições necessárias já existem em bibliotecas nas linguagens R e Python, o que acelera a experimentação. Entretanto, há trabalho de codificação de algoritmos a ser feito, pois nem todos os modelos estão disponíveis em bibliotecas. Como a fonte de dados do trabalho é um grafo direcionado e ponderado e a literatura é escassa para esse tipo de rede, alguns modelos e medições adaptadas foram propostas, o que significa que seus algoritmos precisam ser implementados computacionalmente. Dada a experiência do pesquisador com desenvolvimento de software, espera-se que essas implementações junto com a própria experimentação não ultrapasse Setembro. No cronograma da Figura~\ref{fig:cronograma} essa etapa é descrita como \textit{Experimentação}. A implementação dos algoritmos e a experimentação não são separadas no cronograma pois espera-se que ocorram concomitantemente.

Uma vez que os primeiros resultados forem obtidos, espera-se começar sua consolidação e transferência para o trabalho escrito. Essa etapa deve acontecer esporadicamente enquanto a atividade principal da experimentação ocorre. É esperado que os experimentos já estejam concluídos até Outubro e que esse mês seja quase totalmente reservado na descrição dos resultados. No cronograma da Figura~\ref{fig:cronograma} a etapa como um todo recebe o nome de \textit{Descrição dos Resultados}.

Finalmente, as revisões finais do trabalho devem começar timidamente em Outubro, quando os resultados forem confrontados com o que foi descrito até o momento. Novembro é reservado para ajustes de texto causados pelo resultado dos experimentos e melhorias na redação. No cronograma da Figura~\ref{fig:cronograma} essa etapa final é chamada \textit{Consolidação do Trabalho}.

\begin{figure*}[htb]
    \centering
    \includegraphics[scale=0.4]{dissertacao-cronograma.png}
    \caption{Cronograma}
    \label{fig:cronograma}
\end{figure*}

\begin{comment}
\section{Geladeira}

Aqui fica o texto escrito e que pode ser reaproveitado em outras partes do trabalho, mas que parece que não encaixa de onde foram tirados.


\subsection{Análise de classe de ocupações}

Uma coisa que reparei enquanto montava o MCar (olhei para aqueles dados por bastante tempo) é que temos 4 tipos de trabalho que não se misturam muito. Abaixo uma descrição \enquote{no cheiro} do que observei, mas precisa de algo melhor para realmente embasar as observações abaixo.


\begin{description}
\item [Operacional] Escolaridade no 3º grau incompleto (ou menor, 2º grau é o mais comum. Contém \enquote{graduações saturadas} como Direito e Administração de Empresas. Salário é mais baixo. Grande migração entre outros cargos operacionais sem muita correlação (garçom → mascote esportivo → pedreiro → lavador de carro → manobrista → recepcionista). Parece haver uma subdivisão aqui entre operacional de escritório (recepcionista, auxiliar administrativo, \ldots) e operacional \textit{braçal} (manobrista, lavador, garçom, \ldots) Os operacionais de escritório parecem ter níveis de experiência divididos entre \enquote{Assistentes} e \enquote{Auxiliares}.
\item [Técnico] Com algumas migrações vindas do operacional. Possui 3º grau incompleto ou menor. È bastante similar ao Operacional, mas os salários são um pouco maiores e a movimentação entre cargos não correlacionados diminui. Possui níveis de experiência: \enquote{Meio Oficial} e \enquote{Oficial}. Exemplos: Soldador, Enfermeiro, Mecânico, Cozinheiro, \ldots
\item [Especialista] Com 3º completo e acima (mestrado e doutorado são mais comuns). Possui pouquíssima movimentação para ocupações não correlacionadas, exceto para área de gestão. Possui níveis de experiência \enquote{Júnior}, \enquote{Pleno} e \enquote{Sênior}. Salários são maiores. Descrição nos currículos normalmente possui habilidades e ferramentas. Exemplos: Desenvolvedores de Software, Médicos, Arquitetos, Engenheiros (todos), \ldots
\item [Gestores] Com variados graus de formação, mas os de maior salário (ou empresas maiores) possuem formação superior ou acima (especializações e MBA são mais comuns). Pouca movimentação entre cargos não correlacionados. Salários são maiores. Classificação de experiência parece ser \enquote{Supervisor}, \enquote{Coordenador}, \enquote{Gerente}, \enquote{Diretor}. Recentemente aparecem \enquote{CEO}, \enquote{CFO}, entre outros \enquote{C's}.
\end{description}

Na minha humilde opinião, esse á um trabalho que seria uma contribuição interessante para a área de RH, pois o que descrevo aí embaixo parece ser algo formalizado pela área (provavelmente), mas que poderia ganhar bases sólidas com uma análise com esse volume de dados. Um ponto particularmente interessante é que não existe uma migração muito forte de uma para o outro, ao contrário do que já vi descrito por aí: operacional → técnico → especialista → gestão. O que parece existir é uma migração muito grande dentro de cada grupo. O operacional é mais \enquote{bagunçado}, não existe um ordem, enquanto existe uma clara progressão nos outros. Também existe uma migração de Operacional para Técnico, mas quase zero de Técnico para Especialista.

\subsection{Identificação de \textit{Carreiras}}

Basicamente a clusterização já feita para separar o subgrafo da área de TI.

Existe um desafio ali que são as ocupações \enquote{hubs} que conectam tudo (vendedor, recepcionista, auxiliar administrativo).

O grupo dos cargos operacionais é muito grande e pode ser dividido.

A técnica que usei foi simples. Separar os clusters e passar novamente o algoritmo nos maiores com parametrização mais rígida (dá para automatizar esse processo). Porém sobrou o problema dos \enquote{miniclusters} com duas ou três ocupações que poderiam se juntar à outras.

Seria possível aplicar outras técnicas de agrupamento.
\end{comment}

\def\refname{REFERÊNCIAS BIBLIOGRÁFICAS}
\bibliography{projeto}
\addcontentsline{toc}{section}{REFERÊNCIAS BIBLIOGRÁFICAS}
\bibliographystyle{abnt-alf}

\end{document}
